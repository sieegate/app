{"ast":null,"code":"export var fetchFile = function fetchFile(bucketName, fileId) {\n  return {\n    type: \"REQUEST_FILE\",\n    route: \"files/\" + bucketName + \"/\" + fileId,\n    method: \"GET\"\n  };\n};\nexport var deleteFile = function deleteFile(bucketName, fileId) {\n  return {\n    type: \"REQUEST_DELETE_FILE\",\n    route: \"files/\" + bucketName + \"/\" + fileId,\n    method: \"DELETE\",\n    successNotification: {\n      message: \"Votre document a bien été supprimé de la base de données.\",\n      variant: \"success\",\n      timeout: 2000\n    },\n    errorNotification: {\n      message: \"Cela n'a pas marché... Essayez de nouveau.\",\n      variant: \"error\",\n      timeout: 2000\n    }\n  };\n};\nexport var uploadFile = function uploadFile(file, bucketName) {\n  var formData = new FormData();\n  var temp = file.uri.split(\"/\");\n  formData.append(bucketName, {\n    uri: file.uri,\n    name: temp[temp.length - 1],\n    type: \"image/jpeg\"\n  });\n  return {\n    type: \"REQUEST_UPLOAD_FILE\",\n    route: \"files\",\n    payload: formData,\n    method: \"POST\",\n    successNotification: {\n      message: \"Votre document a bien été enregistré dans la base de données.\",\n      variant: \"success\",\n      redirect: \"Profile\",\n      timeout: 2000\n    },\n    errorNotification: {\n      message: \"Cela n'a pas marché... Essayez de nouveau.\",\n      variant: \"error\",\n      timeout: 2000\n    }\n  };\n};","map":{"version":3,"sources":["/home/gaetan/Documents/GATE/app/client/src/actions/filesActions.js"],"names":["fetchFile","bucketName","fileId","type","route","method","deleteFile","successNotification","message","variant","timeout","errorNotification","uploadFile","file","formData","FormData","temp","uri","split","append","name","length","payload","redirect"],"mappings":"AAAA,OAAO,IAAMA,SAAS,GAAG,SAAZA,SAAY,CAACC,UAAD,EAAaC,MAAb,EAAwB;AAC/C,SAAO;AACLC,IAAAA,IAAI,EAAE,cADD;AAELC,IAAAA,KAAK,aAAWH,UAAX,SAAyBC,MAFzB;AAGLG,IAAAA,MAAM,EAAE;AAHH,GAAP;AAKD,CANM;AAQP,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACL,UAAD,EAAaC,MAAb,EAAwB;AAChD,SAAO;AACLC,IAAAA,IAAI,EAAE,qBADD;AAELC,IAAAA,KAAK,aAAWH,UAAX,SAAyBC,MAFzB;AAGLG,IAAAA,MAAM,EAAE,QAHH;AAILE,IAAAA,mBAAmB,EAAE;AACnBC,MAAAA,OAAO,EAAE,2DADU;AAEnBC,MAAAA,OAAO,EAAE,SAFU;AAGnBC,MAAAA,OAAO,EAAE;AAHU,KAJhB;AASLC,IAAAA,iBAAiB,EAAE;AACjBH,MAAAA,OAAO,EAAE,4CADQ;AAEjBC,MAAAA,OAAO,EAAE,OAFQ;AAGjBC,MAAAA,OAAO,EAAE;AAHQ;AATd,GAAP;AAeD,CAhBM;AAkBP,OAAO,IAAME,UAAU,GAAG,SAAbA,UAAa,CAACC,IAAD,EAAOZ,UAAP,EAAsB;AAC9C,MAAIa,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACA,MAAIC,IAAI,GAAGH,IAAI,CAACI,GAAL,CAASC,KAAT,CAAe,GAAf,CAAX;AACAJ,EAAAA,QAAQ,CAACK,MAAT,CAAgBlB,UAAhB,EAA4B;AAC1BgB,IAAAA,GAAG,EAAEJ,IAAI,CAACI,GADgB;AAE1BG,IAAAA,IAAI,EAAEJ,IAAI,CAACA,IAAI,CAACK,MAAL,GAAc,CAAf,CAFgB;AAG1BlB,IAAAA,IAAI,EAAE;AAHoB,GAA5B;AAMA,SAAO;AACLA,IAAAA,IAAI,EAAE,qBADD;AAELC,IAAAA,KAAK,SAFA;AAGLkB,IAAAA,OAAO,EAAER,QAHJ;AAILT,IAAAA,MAAM,EAAE,MAJH;AAKLE,IAAAA,mBAAmB,EAAE;AACnBC,MAAAA,OAAO,EAAE,+DADU;AAEnBC,MAAAA,OAAO,EAAE,SAFU;AAGnBc,MAAAA,QAAQ,EAAE,SAHS;AAInBb,MAAAA,OAAO,EAAE;AAJU,KALhB;AAWLC,IAAAA,iBAAiB,EAAE;AACjBH,MAAAA,OAAO,EAAE,4CADQ;AAEjBC,MAAAA,OAAO,EAAE,OAFQ;AAGjBC,MAAAA,OAAO,EAAE;AAHQ;AAXd,GAAP;AAiBD,CA1BM","sourcesContent":["export const fetchFile = (bucketName, fileId) => {\n  return {\n    type: \"REQUEST_FILE\",\n    route: `files/${bucketName}/${fileId}`,\n    method: \"GET\"\n  };\n};\n\nexport const deleteFile = (bucketName, fileId) => {\n  return {\n    type: \"REQUEST_DELETE_FILE\",\n    route: `files/${bucketName}/${fileId}`,\n    method: \"DELETE\",\n    successNotification: {\n      message: \"Votre document a bien été supprimé de la base de données.\",\n      variant: \"success\",\n      timeout: 2000\n    },\n    errorNotification: {\n      message: \"Cela n'a pas marché... Essayez de nouveau.\",\n      variant: \"error\",\n      timeout: 2000\n    }\n  };\n};\n\nexport const uploadFile = (file, bucketName) => {\n  let formData = new FormData();\n  let temp = file.uri.split(\"/\");\n  formData.append(bucketName, {\n    uri: file.uri,\n    name: temp[temp.length - 1],\n    type: \"image/jpeg\"\n  });\n\n  return {\n    type: \"REQUEST_UPLOAD_FILE\",\n    route: `files`,\n    payload: formData,\n    method: \"POST\",\n    successNotification: {\n      message: \"Votre document a bien été enregistré dans la base de données.\",\n      variant: \"success\",\n      redirect: \"Profile\",\n      timeout: 2000\n    },\n    errorNotification: {\n      message: \"Cela n'a pas marché... Essayez de nouveau.\",\n      variant: \"error\",\n      timeout: 2000\n    }\n  };\n};\n"]},"metadata":{},"sourceType":"module"}