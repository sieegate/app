{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useContext, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Switch from \"react-native-web/dist/exports/Switch\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { Input, Icon, ThemeContext, Button } from \"react-native-elements\";\nimport { connect } from \"react-redux\";\nimport { updateJob as _updateJob, deleteJob as _deleteJob, fetchMyJobs as _fetchMyJobs } from \"../../actions/jobsActions\";\n\nvar MyJobsEditScreen = function MyJobsEditScreen(_ref) {\n  var updateJob = _ref.updateJob,\n      deleteJob = _ref.deleteJob,\n      route = _ref.route,\n      fetchMyJobs = _ref.fetchMyJobs,\n      navigation = _ref.navigation;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      deleting = _useState2[0],\n      setDeleting = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      updating = _useState4[0],\n      setUpdating = _useState4[1];\n\n  var job = route.params.job;\n\n  var _useContext = useContext(ThemeContext),\n      theme = _useContext.theme;\n\n  var _useState5 = useState(job.employmentType),\n      _useState6 = _slicedToArray(_useState5, 2),\n      employmentType = _useState6[0],\n      setEmploymentType = _useState6[1];\n\n  var _useState7 = useState(job.asap),\n      _useState8 = _slicedToArray(_useState7, 2),\n      asap = _useState8[0],\n      setAsap = _useState8[1];\n\n  var _useState9 = useState(job.organisation),\n      _useState10 = _slicedToArray(_useState9, 2),\n      organisation = _useState10[0],\n      setOrganisation = _useState10[1];\n\n  var _useState11 = useState(job.city),\n      _useState12 = _slicedToArray(_useState11, 2),\n      city = _useState12[0],\n      setCity = _useState12[1];\n\n  var _useState13 = useState(job.salary),\n      _useState14 = _slicedToArray(_useState13, 2),\n      salary = _useState14[0],\n      setSalary = _useState14[1];\n\n  var _useState15 = useState(job.jobTitle),\n      _useState16 = _slicedToArray(_useState15, 2),\n      jobTitle = _useState16[0],\n      setJobTitle = _useState16[1];\n\n  var _useState17 = useState(job.jobDesc),\n      _useState18 = _slicedToArray(_useState17, 2),\n      jobDesc = _useState18[0],\n      setJobDesc = _useState18[1];\n\n  var _useState19 = useState(\"\" + job.minExp),\n      _useState20 = _slicedToArray(_useState19, 2),\n      minExp = _useState20[0],\n      setMinExp = _useState20[1];\n\n  var _useState21 = useState(job.contact),\n      _useState22 = _slicedToArray(_useState21, 2),\n      contact = _useState22[0],\n      setContact = _useState22[1];\n\n  var _useState23 = useState({}),\n      _useState24 = _slicedToArray(_useState23, 2),\n      errors = _useState24[0],\n      setErrors = _useState24[1];\n\n  var onEditJob = function onEditJob() {\n    {\n      if (!employmentType) {\n        return setErrors({\n          employmentType: \"Ce champs est obligatoire.\"\n        });\n      } else if (!organisation) {\n        return setErrors({\n          organisation: \"Ce champs est obligatoire.\"\n        });\n      } else if (!city) {\n        return setErrors({\n          city: \"Ce champs est obligatoire.\"\n        });\n      } else if (!jobDesc) {\n        return setErrors({\n          jobDesc: \"Ce champs est obligatoire.\"\n        });\n      } else if (!jobTitle) {\n        return setErrors({\n          jobTitle: \"Ce champs est obligatoire.\"\n        });\n      } else if (!minExp) {\n        return setErrors({\n          minExp: \"Ce champs est obligatoire.\"\n        });\n      }\n    }\n    updateJob(_objectSpread({}, job, {\n      employmentType: employmentType,\n      asap: asap,\n      organisation: organisation,\n      city: city,\n      salary: salary,\n      jobDesc: jobDesc,\n      jobTitle: jobTitle,\n      minExp: minExp,\n      contact: contact\n    }));\n    {\n      setAsap(false);\n      setCity();\n      setSalary();\n      setContact();\n      setErrors({});\n      setEmploymentType();\n      setOrganisation();\n      setJobDesc();\n      setJobTitle();\n    }\n  };\n\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      alignContent: \"space-between\",\n      paddingVertical: 8,\n      paddingHorizontal: 8,\n      backgroundColor: \"white\"\n    }\n  }, React.createElement(ScrollView, null, React.createElement(Input, {\n    label: \"Type de contrat*\",\n    placeholder: \"CDI, CDD, Apprentissage...\",\n    value: employmentType,\n    onChangeText: function onChangeText(value) {\n      return setEmploymentType(value);\n    },\n    errorMessage: errors.employmentType\n  }), React.createElement(Input, {\n    label: \"Organisation*\",\n    placeholder: \"Deloitte, Engie, EY...\",\n    value: organisation,\n    onChangeText: function onChangeText(value) {\n      return setOrganisation(value);\n    },\n    errorMessage: errors.organisation\n  }), React.createElement(Input, {\n    placeholder: \"Paris, Shanghai, Lyon...\",\n    label: \"Ville*\",\n    value: city,\n    onChangeText: function onChangeText(value) {\n      return setCity(value);\n    },\n    errorMessage: errors.city\n  }), React.createElement(Input, {\n    placeholder: \"Auditeur des SI, Pentester junior...\",\n    label: \"Intitul\\xE9 du poste*\",\n    value: jobTitle,\n    onChangeText: function onChangeText(value) {\n      return setJobTitle(value);\n    },\n    errorMessage: errors.jobTitle\n  }), React.createElement(Input, {\n    label: \"Description du poste*\",\n    multiline: true,\n    inputStyle: {\n      height: 200,\n      textAlignVertical: \"top\"\n    },\n    placeholder: \"Les missions, les comp\\xE9tences requises, l'employeur...\",\n    value: jobDesc,\n    onChangeText: function onChangeText(value) {\n      return setJobDesc(value);\n    },\n    errorMessage: errors.jobDesc\n  }), React.createElement(Input, {\n    label: \"Exp\\xE9rience*\",\n    placeholder: \"Ann\\xE9es pass\\xE9es dans un poste similaire\",\n    value: minExp,\n    keyboardType: \"number-pad\",\n    onChangeText: function onChangeText(value) {\n      return setMinExp(value);\n    },\n    errorMessage: errors.minExp\n  }), React.createElement(Input, {\n    label: \"R\\xE9mun\\xE9ration\",\n    placeholder: \"En \\u20AC\",\n    keyboardType: \"decimal-pad\",\n    value: salary,\n    onChangeText: function onChangeText(value) {\n      return setSalary(value);\n    },\n    showSoftInputOnFocus: false,\n    errorMessage: errors.salary\n  }), React.createElement(View, {\n    style: {\n      marginBottom: 12,\n      flexDirection: \"row\",\n      display: \"flex\",\n      height: 40\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: theme.colors.grey3,\n      fontWeight: \"bold\",\n      paddingLeft: 10,\n      fontSize: 16,\n      flex: 1,\n      textAlignVertical: \"center\"\n    }\n  }, \"Poste \\xE0 pourvoir d\\xE8s que possible\"), React.createElement(Switch, {\n    trackColor: {\n      false: theme.colors.grey4,\n      true: theme.colors.primarySoft\n    },\n    thumbColor: asap ? theme.colors.primary : theme.colors.grey2,\n    value: asap,\n    onValueChange: function onValueChange(value) {\n      return setAsap(value);\n    }\n  })), React.createElement(Input, {\n    label: \"Contact\",\n    placeholder: \"Email\",\n    value: contact,\n    onChangeText: function onChangeText(value) {\n      return setContact(value);\n    },\n    errorMessage: errors.contact\n  })), React.createElement(View, {\n    style: {\n      paddingTop: 8\n    }\n  }, React.createElement(Button, {\n    title: \"Valider les changements\",\n    loading: updating,\n    onPress: function onPress() {\n      setUpdating(true);\n      onEditJob();\n      setUpdating(false);\n      fetchMyJobs();\n      navigation.navigate(\"Read\");\n    },\n    buttonStyle: {\n      backgroundColor: theme.colors.primary\n    }\n  }), React.createElement(Button, {\n    title: \"Supprimer l'offre\",\n    loading: deleting,\n    onPress: function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setDeleting(true);\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(deleteJob(job._id));\n\n            case 3:\n              setDeleting(false);\n              fetchMyJobs();\n              navigation.navigate(\"Read\");\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    },\n    buttonStyle: {\n      backgroundColor: theme.colors.error\n    }\n  })));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    jobs: state.jobs,\n    auth: state.auth\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    updateJob: function updateJob(job) {\n      return dispatch(_updateJob(job));\n    },\n    deleteJob: function deleteJob(id) {\n      return dispatch(_deleteJob(id));\n    },\n    fetchMyJobs: function fetchMyJobs() {\n      return dispatch(_fetchMyJobs());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MyJobsEditScreen);","map":{"version":3,"sources":["/home/gaetan/Documents/GATE/app/client/src/components/MyJobs/MyJobsEditScreen.js"],"names":["React","useContext","useState","Input","Icon","ThemeContext","Button","connect","updateJob","deleteJob","fetchMyJobs","MyJobsEditScreen","route","navigation","deleting","setDeleting","updating","setUpdating","job","params","theme","employmentType","setEmploymentType","asap","setAsap","organisation","setOrganisation","city","setCity","salary","setSalary","jobTitle","setJobTitle","jobDesc","setJobDesc","minExp","setMinExp","contact","setContact","errors","setErrors","onEditJob","flex","alignContent","paddingVertical","paddingHorizontal","backgroundColor","value","height","textAlignVertical","marginBottom","flexDirection","display","color","colors","grey3","fontWeight","paddingLeft","fontSize","false","grey4","true","primarySoft","primary","grey2","paddingTop","navigate","_id","error","mapStateToProps","state","jobs","auth","mapDispatchToProps","dispatch","id"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from \"react\";\nimport { View, Text, Switch, ScrollView } from \"react-native\";\nimport { Input, Icon, ThemeContext, Button } from \"react-native-elements\";\nimport { connect } from \"react-redux\";\nimport { updateJob, deleteJob, fetchMyJobs } from \"../../actions/jobsActions\";\n\nconst MyJobsEditScreen = ({\n  updateJob,\n  deleteJob,\n  route,\n  fetchMyJobs,\n  navigation\n}) => {\n  const [deleting, setDeleting] = useState(false);\n  const [updating, setUpdating] = useState(false);\n  const { job } = route.params;\n  const { theme } = useContext(ThemeContext);\n  const [employmentType, setEmploymentType] = useState(job.employmentType);\n  const [asap, setAsap] = useState(job.asap);\n  const [organisation, setOrganisation] = useState(job.organisation);\n  const [city, setCity] = useState(job.city);\n  const [salary, setSalary] = useState(job.salary);\n  const [jobTitle, setJobTitle] = useState(job.jobTitle);\n  const [jobDesc, setJobDesc] = useState(job.jobDesc);\n  const [minExp, setMinExp] = useState(`${job.minExp}`);\n  const [contact, setContact] = useState(job.contact);\n  const [errors, setErrors] = useState({});\n\n  const onEditJob = () => {\n    {\n      if (!employmentType) {\n        return setErrors({\n          employmentType: \"Ce champs est obligatoire.\"\n        });\n      } else if (!organisation) {\n        return setErrors({\n          organisation: \"Ce champs est obligatoire.\"\n        });\n      } else if (!city) {\n        return setErrors({\n          city: \"Ce champs est obligatoire.\"\n        });\n      } else if (!jobDesc) {\n        return setErrors({\n          jobDesc: \"Ce champs est obligatoire.\"\n        });\n      } else if (!jobTitle) {\n        return setErrors({\n          jobTitle: \"Ce champs est obligatoire.\"\n        });\n      } else if (!minExp) {\n        return setErrors({\n          minExp: \"Ce champs est obligatoire.\"\n        });\n      }\n    }\n\n    updateJob({\n      ...job,\n      employmentType,\n      asap,\n      organisation,\n      city,\n      salary,\n      jobDesc,\n      jobTitle,\n      minExp,\n      contact\n    });\n\n    {\n      setAsap(false);\n      setCity();\n      setSalary();\n      setContact();\n      setErrors({});\n      setEmploymentType();\n      setOrganisation();\n      setJobDesc();\n      setJobTitle();\n    }\n  };\n\n  return (\n    <View\n      style={{\n        flex: 1,\n        alignContent: \"space-between\",\n        paddingVertical: 8,\n        paddingHorizontal: 8,\n        backgroundColor: \"white\"\n      }}\n    >\n      <ScrollView>\n        <Input\n          label=\"Type de contrat*\"\n          placeholder=\"CDI, CDD, Apprentissage...\"\n          value={employmentType}\n          onChangeText={value => setEmploymentType(value)}\n          errorMessage={errors.employmentType}\n        />\n        <Input\n          label=\"Organisation*\"\n          placeholder=\"Deloitte, Engie, EY...\"\n          value={organisation}\n          onChangeText={value => setOrganisation(value)}\n          errorMessage={errors.organisation}\n        />\n        <Input\n          placeholder=\"Paris, Shanghai, Lyon...\"\n          label=\"Ville*\"\n          value={city}\n          onChangeText={value => setCity(value)}\n          errorMessage={errors.city}\n        />\n        <Input\n          placeholder=\"Auditeur des SI, Pentester junior...\"\n          label=\"Intitulé du poste*\"\n          value={jobTitle}\n          onChangeText={value => setJobTitle(value)}\n          errorMessage={errors.jobTitle}\n        />\n        <Input\n          label=\"Description du poste*\"\n          multiline\n          inputStyle={{ height: 200, textAlignVertical: \"top\" }}\n          placeholder=\"Les missions, les compétences requises, l'employeur...\"\n          value={jobDesc}\n          onChangeText={value => setJobDesc(value)}\n          errorMessage={errors.jobDesc}\n        />\n        <Input\n          label=\"Expérience*\"\n          placeholder=\"Années passées dans un poste similaire\"\n          value={minExp}\n          keyboardType=\"number-pad\"\n          onChangeText={value => setMinExp(value)}\n          errorMessage={errors.minExp}\n        />\n        <Input\n          label=\"Rémunération\"\n          placeholder=\"En €\"\n          keyboardType=\"decimal-pad\"\n          value={salary}\n          onChangeText={value => setSalary(value)}\n          showSoftInputOnFocus={false}\n          errorMessage={errors.salary}\n        />\n        <View\n          style={{\n            marginBottom: 12,\n            flexDirection: \"row\",\n            display: \"flex\",\n            height: 40\n          }}\n        >\n          <Text\n            style={{\n              color: theme.colors.grey3,\n              fontWeight: \"bold\",\n              paddingLeft: 10,\n              fontSize: 16,\n              flex: 1,\n              textAlignVertical: \"center\"\n            }}\n          >\n            Poste à pourvoir dès que possible\n          </Text>\n          <Switch\n            trackColor={{\n              false: theme.colors.grey4,\n              true: theme.colors.primarySoft\n            }}\n            thumbColor={asap ? theme.colors.primary : theme.colors.grey2}\n            value={asap}\n            onValueChange={value => setAsap(value)}\n          />\n        </View>\n        <Input\n          label=\"Contact\"\n          placeholder=\"Email\"\n          value={contact}\n          onChangeText={value => setContact(value)}\n          errorMessage={errors.contact}\n        />\n      </ScrollView>\n      <View style={{ paddingTop: 8 }}>\n        <Button\n          title=\"Valider les changements\"\n          loading={updating}\n          onPress={() => {\n            setUpdating(true);\n            onEditJob();\n            setUpdating(false);\n            fetchMyJobs();\n            navigation.navigate(\"Read\");\n          }}\n          buttonStyle={{ backgroundColor: theme.colors.primary }}\n        />\n        <Button\n          title=\"Supprimer l'offre\"\n          loading={deleting}\n          onPress={async () => {\n            setDeleting(true);\n            await deleteJob(job._id);\n            setDeleting(false);\n            fetchMyJobs();\n            navigation.navigate(\"Read\");\n          }}\n          buttonStyle={{ backgroundColor: theme.colors.error }}\n        />\n      </View>\n    </View>\n  );\n};\n\nconst mapStateToProps = state => {\n  return { jobs: state.jobs, auth: state.auth };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateJob: job => dispatch(updateJob(job)),\n    deleteJob: id => dispatch(deleteJob(id)),\n    fetchMyJobs: () => dispatch(fetchMyJobs())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MyJobsEditScreen);\n"]},"metadata":{},"sourceType":"module"}