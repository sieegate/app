{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{useContext,useState}from\"react\";import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import Switch from\"react-native-web/dist/exports/Switch\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import{Input,Icon,ThemeContext,Button}from\"react-native-elements\";import{connect}from\"react-redux\";import{updateJob as _updateJob,deleteJob as _deleteJob,fetchMyJobs as _fetchMyJobs}from\"../../actions/jobsActions\";var MyJobsEditScreen=function MyJobsEditScreen(_ref){var updateJob=_ref.updateJob,deleteJob=_ref.deleteJob,route=_ref.route,fetchMyJobs=_ref.fetchMyJobs,navigation=_ref.navigation;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),deleting=_useState2[0],setDeleting=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),updating=_useState4[0],setUpdating=_useState4[1];var job=route.params.job;var _useContext=useContext(ThemeContext),theme=_useContext.theme;var _useState5=useState(job.employmentType),_useState6=_slicedToArray(_useState5,2),employmentType=_useState6[0],setEmploymentType=_useState6[1];var _useState7=useState(job.asap),_useState8=_slicedToArray(_useState7,2),asap=_useState8[0],setAsap=_useState8[1];var _useState9=useState(job.organisation),_useState10=_slicedToArray(_useState9,2),organisation=_useState10[0],setOrganisation=_useState10[1];var _useState11=useState(job.city),_useState12=_slicedToArray(_useState11,2),city=_useState12[0],setCity=_useState12[1];var _useState13=useState(job.salary),_useState14=_slicedToArray(_useState13,2),salary=_useState14[0],setSalary=_useState14[1];var _useState15=useState(job.jobTitle),_useState16=_slicedToArray(_useState15,2),jobTitle=_useState16[0],setJobTitle=_useState16[1];var _useState17=useState(job.jobDesc),_useState18=_slicedToArray(_useState17,2),jobDesc=_useState18[0],setJobDesc=_useState18[1];var _useState19=useState(\"\"+job.minExp),_useState20=_slicedToArray(_useState19,2),minExp=_useState20[0],setMinExp=_useState20[1];var _useState21=useState(job.contact),_useState22=_slicedToArray(_useState21,2),contact=_useState22[0],setContact=_useState22[1];var _useState23=useState({}),_useState24=_slicedToArray(_useState23,2),errors=_useState24[0],setErrors=_useState24[1];var onEditJob=function onEditJob(){{if(!employmentType){return setErrors({employmentType:\"Ce champs est obligatoire.\"});}else if(!organisation){return setErrors({organisation:\"Ce champs est obligatoire.\"});}else if(!city){return setErrors({city:\"Ce champs est obligatoire.\"});}else if(!jobDesc){return setErrors({jobDesc:\"Ce champs est obligatoire.\"});}else if(!jobTitle){return setErrors({jobTitle:\"Ce champs est obligatoire.\"});}else if(!minExp){return setErrors({minExp:\"Ce champs est obligatoire.\"});}}updateJob(_objectSpread({},job,{employmentType:employmentType,asap:asap,organisation:organisation,city:city,salary:salary,jobDesc:jobDesc,jobTitle:jobTitle,minExp:minExp,contact:contact}));{setAsap(false);setCity();setSalary();setContact();setErrors({});setEmploymentType();setOrganisation();setJobDesc();setJobTitle();}};return React.createElement(View,{style:{flex:1,alignContent:\"space-between\",paddingVertical:8,paddingHorizontal:8,backgroundColor:\"white\"}},React.createElement(ScrollView,null,React.createElement(Input,{label:\"Type de contrat*\",placeholder:\"CDI, CDD, Apprentissage...\",value:employmentType,onChangeText:function onChangeText(value){return setEmploymentType(value);},errorMessage:errors.employmentType}),React.createElement(Input,{label:\"Organisation*\",placeholder:\"Deloitte, Engie, EY...\",value:organisation,onChangeText:function onChangeText(value){return setOrganisation(value);},errorMessage:errors.organisation}),React.createElement(Input,{placeholder:\"Paris, Shanghai, Lyon...\",label:\"Ville*\",value:city,onChangeText:function onChangeText(value){return setCity(value);},errorMessage:errors.city}),React.createElement(Input,{placeholder:\"Auditeur des SI, Pentester junior...\",label:\"Intitul\\xE9 du poste*\",value:jobTitle,onChangeText:function onChangeText(value){return setJobTitle(value);},errorMessage:errors.jobTitle}),React.createElement(Input,{label:\"Description du poste*\",multiline:true,inputStyle:{height:200,textAlignVertical:\"top\"},placeholder:\"Les missions, les comp\\xE9tences requises, l'employeur...\",value:jobDesc,onChangeText:function onChangeText(value){return setJobDesc(value);},errorMessage:errors.jobDesc}),React.createElement(Input,{label:\"Exp\\xE9rience*\",placeholder:\"Ann\\xE9es pass\\xE9es dans un poste similaire\",value:minExp,keyboardType:\"number-pad\",onChangeText:function onChangeText(value){return setMinExp(value);},errorMessage:errors.minExp}),React.createElement(Input,{label:\"R\\xE9mun\\xE9ration\",placeholder:\"En \\u20AC\",keyboardType:\"decimal-pad\",value:salary,onChangeText:function onChangeText(value){return setSalary(value);},showSoftInputOnFocus:false,errorMessage:errors.salary}),React.createElement(View,{style:{marginBottom:12,flexDirection:\"row\",display:\"flex\",height:40}},React.createElement(Text,{style:{color:theme.colors.grey3,fontWeight:\"bold\",paddingLeft:10,fontSize:16,flex:1,textAlignVertical:\"center\"}},\"Poste \\xE0 pourvoir d\\xE8s que possible\"),React.createElement(Switch,{trackColor:{false:theme.colors.grey4,true:theme.colors.primarySoft},thumbColor:asap?theme.colors.primary:theme.colors.grey2,value:asap,onValueChange:function onValueChange(value){return setAsap(value);}})),React.createElement(Input,{label:\"Contact\",placeholder:\"Email\",value:contact,onChangeText:function onChangeText(value){return setContact(value);},errorMessage:errors.contact})),React.createElement(View,{style:{paddingTop:8}},React.createElement(Button,{title:\"Valider les changements\",loading:updating,onPress:function onPress(){setUpdating(true);onEditJob();setUpdating(false);fetchMyJobs();navigation.navigate(\"Read\");},buttonStyle:{backgroundColor:theme.colors.primary}}),React.createElement(Button,{title:\"Supprimer l'offre\",loading:deleting,onPress:function _callee(){return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setDeleting(true);_context.next=3;return _regeneratorRuntime.awrap(deleteJob(job._id));case 3:setDeleting(false);fetchMyJobs();navigation.navigate(\"Read\");case 6:case\"end\":return _context.stop();}}},null,null,null,Promise);},buttonStyle:{backgroundColor:theme.colors.error}})));};var mapStateToProps=function mapStateToProps(state){return{jobs:state.jobs,auth:state.auth};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{updateJob:function updateJob(job){return dispatch(_updateJob(job));},deleteJob:function deleteJob(id){return dispatch(_deleteJob(id));},fetchMyJobs:function fetchMyJobs(){return dispatch(_fetchMyJobs());}};};export default connect(mapStateToProps,mapDispatchToProps)(MyJobsEditScreen);","map":{"version":3,"sources":["/home/gaetan/Documents/GATE/app/client/src/components/MyJobs/MyJobsEditScreen.js"],"names":["React","useContext","useState","Input","Icon","ThemeContext","Button","connect","updateJob","deleteJob","fetchMyJobs","MyJobsEditScreen","route","navigation","deleting","setDeleting","updating","setUpdating","job","params","theme","employmentType","setEmploymentType","asap","setAsap","organisation","setOrganisation","city","setCity","salary","setSalary","jobTitle","setJobTitle","jobDesc","setJobDesc","minExp","setMinExp","contact","setContact","errors","setErrors","onEditJob","flex","alignContent","paddingVertical","paddingHorizontal","backgroundColor","value","height","textAlignVertical","marginBottom","flexDirection","display","color","colors","grey3","fontWeight","paddingLeft","fontSize","false","grey4","true","primarySoft","primary","grey2","paddingTop","navigate","_id","error","mapStateToProps","state","jobs","auth","mapDispatchToProps","dispatch","id"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from \"react\";\nimport { View, Text, Switch, ScrollView } from \"react-native\";\nimport { Input, Icon, ThemeContext, Button } from \"react-native-elements\";\nimport { connect } from \"react-redux\";\nimport { updateJob, deleteJob, fetchMyJobs } from \"../../actions/jobsActions\";\n\nconst MyJobsEditScreen = ({\n  updateJob,\n  deleteJob,\n  route,\n  fetchMyJobs,\n  navigation\n}) => {\n  const [deleting, setDeleting] = useState(false);\n  const [updating, setUpdating] = useState(false);\n  const { job } = route.params;\n  const { theme } = useContext(ThemeContext);\n  const [employmentType, setEmploymentType] = useState(job.employmentType);\n  const [asap, setAsap] = useState(job.asap);\n  const [organisation, setOrganisation] = useState(job.organisation);\n  const [city, setCity] = useState(job.city);\n  const [salary, setSalary] = useState(job.salary);\n  const [jobTitle, setJobTitle] = useState(job.jobTitle);\n  const [jobDesc, setJobDesc] = useState(job.jobDesc);\n  const [minExp, setMinExp] = useState(`${job.minExp}`);\n  const [contact, setContact] = useState(job.contact);\n  const [errors, setErrors] = useState({});\n\n  const onEditJob = () => {\n    {\n      if (!employmentType) {\n        return setErrors({\n          employmentType: \"Ce champs est obligatoire.\"\n        });\n      } else if (!organisation) {\n        return setErrors({\n          organisation: \"Ce champs est obligatoire.\"\n        });\n      } else if (!city) {\n        return setErrors({\n          city: \"Ce champs est obligatoire.\"\n        });\n      } else if (!jobDesc) {\n        return setErrors({\n          jobDesc: \"Ce champs est obligatoire.\"\n        });\n      } else if (!jobTitle) {\n        return setErrors({\n          jobTitle: \"Ce champs est obligatoire.\"\n        });\n      } else if (!minExp) {\n        return setErrors({\n          minExp: \"Ce champs est obligatoire.\"\n        });\n      }\n    }\n\n    updateJob({\n      ...job,\n      employmentType,\n      asap,\n      organisation,\n      city,\n      salary,\n      jobDesc,\n      jobTitle,\n      minExp,\n      contact\n    });\n\n    {\n      setAsap(false);\n      setCity();\n      setSalary();\n      setContact();\n      setErrors({});\n      setEmploymentType();\n      setOrganisation();\n      setJobDesc();\n      setJobTitle();\n    }\n  };\n\n  return (\n    <View\n      style={{\n        flex: 1,\n        alignContent: \"space-between\",\n        paddingVertical: 8,\n        paddingHorizontal: 8,\n        backgroundColor: \"white\"\n      }}\n    >\n      <ScrollView>\n        <Input\n          label=\"Type de contrat*\"\n          placeholder=\"CDI, CDD, Apprentissage...\"\n          value={employmentType}\n          onChangeText={value => setEmploymentType(value)}\n          errorMessage={errors.employmentType}\n        />\n        <Input\n          label=\"Organisation*\"\n          placeholder=\"Deloitte, Engie, EY...\"\n          value={organisation}\n          onChangeText={value => setOrganisation(value)}\n          errorMessage={errors.organisation}\n        />\n        <Input\n          placeholder=\"Paris, Shanghai, Lyon...\"\n          label=\"Ville*\"\n          value={city}\n          onChangeText={value => setCity(value)}\n          errorMessage={errors.city}\n        />\n        <Input\n          placeholder=\"Auditeur des SI, Pentester junior...\"\n          label=\"Intitulé du poste*\"\n          value={jobTitle}\n          onChangeText={value => setJobTitle(value)}\n          errorMessage={errors.jobTitle}\n        />\n        <Input\n          label=\"Description du poste*\"\n          multiline\n          inputStyle={{ height: 200, textAlignVertical: \"top\" }}\n          placeholder=\"Les missions, les compétences requises, l'employeur...\"\n          value={jobDesc}\n          onChangeText={value => setJobDesc(value)}\n          errorMessage={errors.jobDesc}\n        />\n        <Input\n          label=\"Expérience*\"\n          placeholder=\"Années passées dans un poste similaire\"\n          value={minExp}\n          keyboardType=\"number-pad\"\n          onChangeText={value => setMinExp(value)}\n          errorMessage={errors.minExp}\n        />\n        <Input\n          label=\"Rémunération\"\n          placeholder=\"En €\"\n          keyboardType=\"decimal-pad\"\n          value={salary}\n          onChangeText={value => setSalary(value)}\n          showSoftInputOnFocus={false}\n          errorMessage={errors.salary}\n        />\n        <View\n          style={{\n            marginBottom: 12,\n            flexDirection: \"row\",\n            display: \"flex\",\n            height: 40\n          }}\n        >\n          <Text\n            style={{\n              color: theme.colors.grey3,\n              fontWeight: \"bold\",\n              paddingLeft: 10,\n              fontSize: 16,\n              flex: 1,\n              textAlignVertical: \"center\"\n            }}\n          >\n            Poste à pourvoir dès que possible\n          </Text>\n          <Switch\n            trackColor={{\n              false: theme.colors.grey4,\n              true: theme.colors.primarySoft\n            }}\n            thumbColor={asap ? theme.colors.primary : theme.colors.grey2}\n            value={asap}\n            onValueChange={value => setAsap(value)}\n          />\n        </View>\n        <Input\n          label=\"Contact\"\n          placeholder=\"Email\"\n          value={contact}\n          onChangeText={value => setContact(value)}\n          errorMessage={errors.contact}\n        />\n      </ScrollView>\n      <View style={{ paddingTop: 8 }}>\n        <Button\n          title=\"Valider les changements\"\n          loading={updating}\n          onPress={() => {\n            setUpdating(true);\n            onEditJob();\n            setUpdating(false);\n            fetchMyJobs();\n            navigation.navigate(\"Read\");\n          }}\n          buttonStyle={{ backgroundColor: theme.colors.primary }}\n        />\n        <Button\n          title=\"Supprimer l'offre\"\n          loading={deleting}\n          onPress={async () => {\n            setDeleting(true);\n            await deleteJob(job._id);\n            setDeleting(false);\n            fetchMyJobs();\n            navigation.navigate(\"Read\");\n          }}\n          buttonStyle={{ backgroundColor: theme.colors.error }}\n        />\n      </View>\n    </View>\n  );\n};\n\nconst mapStateToProps = state => {\n  return { jobs: state.jobs, auth: state.auth };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateJob: job => dispatch(updateJob(job)),\n    deleteJob: id => dispatch(deleteJob(id)),\n    fetchMyJobs: () => dispatch(fetchMyJobs())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MyJobsEditScreen);\n"]},"metadata":{},"sourceType":"module"}