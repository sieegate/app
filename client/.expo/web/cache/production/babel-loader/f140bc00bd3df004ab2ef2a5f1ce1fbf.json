{"ast":null,"code":"import React,{useContext,useEffect}from\"react\";import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import FlatList from\"react-native-web/dist/exports/FlatList\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import{Icon,ThemeContext}from\"react-native-elements\";import{connect}from\"react-redux\";import _ from\"lodash\";import AppNavbar from\"../AppNavbar\";import\"moment/locale/fr\";import moment from\"moment\";import{fetchMyJobs as _fetchMyJobs}from\"../../actions/jobsActions\";var Item=function Item(_ref){var item=_ref.item,navigation=_ref.navigation;var _useContext=useContext(ThemeContext),theme=_useContext.theme;return React.createElement(TouchableOpacity,{onPress:function onPress(){return navigation.navigate(\"Edit\",{job:item});}},React.createElement(View,{style:{paddingTop:8,paddingHorizontal:20,marginVertical:4,marginHorizontal:0,borderBottomWidth:1,borderBottomColor:theme.colors.grey4,paddingVertical:12,flexDirection:\"row\"}},React.createElement(View,{style:{flex:1}},React.createElement(Text,{style:{textAlignVertical:\"bottom\",fontWeight:\"bold\",fontSize:16}},item==null?void 0:item.jobTitle,\" en \",item==null?void 0:item.employmentType),React.createElement(View,{style:{flexDirection:\"row\",alignItems:\"center\"}},React.createElement(Icon,{name:\"briefcase\",size:20,color:\"grey\"}),React.createElement(Text,{style:{textAlignVertical:\"bottom\",marginStart:8}},item==null?void 0:item.organisation)),React.createElement(View,{style:{flexDirection:\"row\",alignItems:\"center\",flex:1}},React.createElement(Icon,{name:\"map-marker\",size:20}),React.createElement(Text,{style:{textAlignVertical:\"bottom\",marginStart:8,flex:1}},_.capitalize(item==null?void 0:item.city)),React.createElement(Text,{color:\"grey\",style:{color:\"grey\",fontSize:10,textAlignVertical:\"bottom\"}},_.capitalize(moment(item==null?void 0:item.publishedAt).locale(\"fr\").fromNow()))))));};var MyJobsScreen=function MyJobsScreen(_ref2){var auth=_ref2.auth,navigation=_ref2.navigation,fetchMyJobs=_ref2.fetchMyJobs;useEffect(function(){function fetchData(){fetchMyJobs();}fetchData();},[]);return React.createElement(View,{style:{flex:1,backgroundColor:\"white\"}},React.createElement(AppNavbar,{title:\"Mes offres d'emploi\",navigation:navigation,noRightButton:true,leftButton:\"back\"}),React.createElement(FlatList,{data:auth.user.jobs,renderItem:function renderItem(_ref3){var item=_ref3.item;return React.createElement(Item,{item:item,navigation:navigation});},keyExtractor:function keyExtractor(item){return item==null?void 0:item._id;}}));};var mapStateToProps=function mapStateToProps(state){return{jobs:state.jobs,auth:state.auth};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{fetchMyJobs:function fetchMyJobs(){return dispatch(_fetchMyJobs());}};};export default connect(mapStateToProps,mapDispatchToProps)(MyJobsScreen);","map":{"version":3,"sources":["/home/gaetan/Documents/GATE/app/client/src/components/MyJobs/MyJobsReadScreen.js"],"names":["React","useContext","useEffect","Icon","ThemeContext","connect","_","AppNavbar","moment","fetchMyJobs","Item","item","navigation","theme","navigate","job","paddingTop","paddingHorizontal","marginVertical","marginHorizontal","borderBottomWidth","borderBottomColor","colors","grey4","paddingVertical","flexDirection","flex","textAlignVertical","fontWeight","fontSize","jobTitle","employmentType","alignItems","marginStart","organisation","capitalize","city","color","publishedAt","locale","fromNow","MyJobsScreen","auth","fetchData","backgroundColor","user","jobs","_id","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from \"react\";\nimport { View, Text, FlatList, TouchableOpacity } from \"react-native\";\nimport { Icon, ThemeContext } from \"react-native-elements\";\nimport { connect } from \"react-redux\";\nimport _ from \"lodash\";\nimport AppNavbar from \"../AppNavbar\";\nimport \"moment/locale/fr\";\nimport moment from \"moment\";\nimport { fetchMyJobs } from \"../../actions/jobsActions\";\n\nconst Item = ({ item, navigation }) => {\n  const { theme } = useContext(ThemeContext);\n\n  return (\n    <TouchableOpacity\n      onPress={() => navigation.navigate(\"Edit\", { job: item })}\n    >\n      <View\n        style={{\n          paddingTop: 8,\n          paddingHorizontal: 20,\n          marginVertical: 4,\n          marginHorizontal: 0,\n          borderBottomWidth: 1,\n          borderBottomColor: theme.colors.grey4,\n          paddingVertical: 12,\n          flexDirection: \"row\",\n        }}\n      >\n        <View style={{ flex: 1 }}>\n          <Text\n            style={{\n              textAlignVertical: \"bottom\",\n              fontWeight: \"bold\",\n              fontSize: 16,\n            }}\n          >\n            {item?.jobTitle} en {item?.employmentType}\n          </Text>\n          <View style={{ flexDirection: \"row\", alignItems: \"center\" }}>\n            <Icon name=\"briefcase\" size={20} color=\"grey\" />\n            <Text style={{ textAlignVertical: \"bottom\", marginStart: 8 }}>\n              {item?.organisation}\n            </Text>\n          </View>\n          <View style={{ flexDirection: \"row\", alignItems: \"center\", flex: 1 }}>\n            <Icon name=\"map-marker\" size={20} />\n            <Text\n              style={{ textAlignVertical: \"bottom\", marginStart: 8, flex: 1 }}\n            >\n              {_.capitalize(item?.city)}\n            </Text>\n            <Text\n              color=\"grey\"\n              style={{\n                color: \"grey\",\n                fontSize: 10,\n                textAlignVertical: \"bottom\",\n              }}\n            >\n              {_.capitalize(moment(item?.publishedAt).locale(\"fr\").fromNow())}\n            </Text>\n          </View>\n        </View>\n      </View>\n    </TouchableOpacity>\n  );\n};\n\nconst MyJobsScreen = ({ auth, navigation, fetchMyJobs }) => {\n  useEffect(() => {\n    function fetchData() {\n      fetchMyJobs();\n    }\n    fetchData();\n  }, []);\n\n  return (\n    <View style={{ flex: 1, backgroundColor: \"white\" }}>\n      <AppNavbar\n        title=\"Mes offres d'emploi\"\n        navigation={navigation}\n        noRightButton={true}\n        leftButton=\"back\"\n      />\n      <FlatList\n        data={auth.user.jobs}\n        renderItem={({ item }) => <Item item={item} navigation={navigation} />}\n        keyExtractor={(item) => item?._id}\n      />\n    </View>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    jobs: state.jobs,\n    auth: state.auth,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    fetchMyJobs: () => dispatch(fetchMyJobs()),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MyJobsScreen);\n"]},"metadata":{},"sourceType":"module"}