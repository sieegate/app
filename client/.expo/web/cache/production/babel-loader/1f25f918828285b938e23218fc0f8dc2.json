{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState,useContext}from\"react\";import{connect}from\"react-redux\";import View from\"react-native-web/dist/exports/View\";import Image from\"react-native-web/dist/exports/Image\";import{Input,Button,Icon,ThemeContext}from\"react-native-elements\";import{logIn as _logIn}from\"../../actions/authActions\";import{LinearGradient}from\"expo-linear-gradient\";var logInScreen=function logInScreen(_ref){var auth=_ref.auth,logIn=_ref.logIn,navigation=_ref.navigation;var _useContext=useContext(ThemeContext),theme=_useContext.theme;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),errors=_useState6[0],setErrors=_useState6[1];var handleLogIn=function handleLogIn(){return _regeneratorRuntime.async(function handleLogIn$(_context){while(1){switch(_context.prev=_context.next){case 0:if(email){_context.next=4;break;}return _context.abrupt(\"return\",setErrors({email:\"Mél invalide.\"}));case 4:if(password){_context.next=6;break;}return _context.abrupt(\"return\",setErrors({password:\"Mot de passe invalide.\"}));case 6:setErrors({});logIn({email:email,password:password});case 8:case\"end\":return _context.stop();}}},null,null,null,Promise);};return React.createElement(View,{style:{flex:1,justifyContent:\"center\",alignItems:\"center\",paddingHorizontal:12,backgroundColor:\"white\"}},React.createElement(LinearGradient,{colors:[theme.colors.primary,theme.colors.secondary],start:[0.25,1],end:[0,0],style:{flexDirection:\"row\",marginBottom:20,height:150,width:150,borderRadius:100}},React.createElement(Image,{source:require(\"../../assets/images/logo.png\"),style:{height:150,width:150,borderRadius:100}})),React.createElement(Input,{placeholder:\"Email\",leftIcon:React.createElement(Icon,{name:\"email\",type:\"material-community\"}),value:email,onChangeText:function onChangeText(value){return setEmail(value);},label:\"Email\",errorStyle:{color:\"red\"},errorMessage:errors.email}),React.createElement(Input,{placeholder:\"Mot de passe\",leftIcon:React.createElement(Icon,{name:\"lock\"}),label:\"Mot de passe\",secureTextEntry:true,value:password,containerStyle:{marginBottom:30,marginTop:8},onChangeText:function onChangeText(value){return setPassword(value);},errorStyle:{color:\"red\"},errorMessage:errors.password}),React.createElement(Button,{title:\"Se connecter\",onPress:handleLogIn,loading:auth.isLoggingIn,containerStyle:{marginBottom:20,marginTop:8}}),React.createElement(Button,{title:\"Nouveau? Je m'enregistre.\",type:\"clear\",onPress:function onPress(){return navigation.navigate(\"SignUp\");},containerStyle:{marginBottom:30}}));};var mapStateToProps=function mapStateToProps(state){return{auth:state.auth};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{logIn:function logIn(credentials){return dispatch(_logIn(credentials));}};};export default connect(mapStateToProps,mapDispatchToProps)(logInScreen);","map":{"version":3,"sources":["/home/gaetan/Documents/GATE/app/client/src/components/Auth/LogInScreen.js"],"names":["React","useState","useContext","connect","Input","Button","Icon","ThemeContext","logIn","LinearGradient","logInScreen","auth","navigation","theme","email","setEmail","password","setPassword","errors","setErrors","handleLogIn","flex","justifyContent","alignItems","paddingHorizontal","backgroundColor","colors","primary","secondary","flexDirection","marginBottom","height","width","borderRadius","require","value","color","marginTop","isLoggingIn","navigate","mapStateToProps","state","mapDispatchToProps","dispatch","credentials"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { connect } from \"react-redux\";\nimport { View, Image } from \"react-native\";\nimport { Input, Button, Icon, ThemeContext } from \"react-native-elements\";\nimport { logIn } from \"../../actions/authActions\";\nimport { LinearGradient } from \"expo-linear-gradient\";\n\nconst logInScreen = ({ auth, logIn, navigation }) => {\n  const { theme } = useContext(ThemeContext);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errors, setErrors] = useState({});\n\n  const handleLogIn = async () => {\n    if (!email) {\n      return setErrors({ email: \"Mél invalide.\" });\n    } else if (!password) {\n      return setErrors({ password: \"Mot de passe invalide.\" });\n    }\n\n    setErrors({});\n    logIn({ email, password });\n  };\n\n  return (\n    <View\n      style={{\n        flex: 1,\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        paddingHorizontal: 12,\n        backgroundColor: \"white\",\n      }}\n    >\n      <LinearGradient\n        colors={[theme.colors.primary, theme.colors.secondary]}\n        start={[0.25, 1]}\n        end={[0, 0]}\n        style={{\n          flexDirection: \"row\",\n          marginBottom: 20,\n          height: 150,\n          width: 150,\n          borderRadius: 100,\n        }}\n      >\n        <Image\n          source={require(\"../../assets/images/logo.png\")}\n          style={{\n            height: 150,\n            width: 150,\n            borderRadius: 100,\n          }}\n        />\n      </LinearGradient>\n      <Input\n        placeholder=\"Email\"\n        leftIcon={<Icon name=\"email\" type=\"material-community\" />}\n        value={email}\n        onChangeText={(value) => setEmail(value)}\n        label=\"Email\"\n        errorStyle={{ color: \"red\" }}\n        errorMessage={errors.email}\n      />\n      <Input\n        placeholder=\"Mot de passe\"\n        leftIcon={<Icon name=\"lock\" />}\n        label=\"Mot de passe\"\n        secureTextEntry\n        value={password}\n        containerStyle={{ marginBottom: 30, marginTop: 8 }}\n        onChangeText={(value) => setPassword(value)}\n        errorStyle={{ color: \"red\" }}\n        errorMessage={errors.password}\n      />\n      <Button\n        title=\"Se connecter\"\n        onPress={handleLogIn}\n        loading={auth.isLoggingIn}\n        containerStyle={{ marginBottom: 20, marginTop: 8 }}\n      />\n      <Button\n        title=\"Nouveau? Je m'enregistre.\"\n        type=\"clear\"\n        onPress={() => navigation.navigate(\"SignUp\")}\n        containerStyle={{ marginBottom: 30 }}\n      />\n    </View>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  auth: state.auth,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    logIn: (credentials) => dispatch(logIn(credentials)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(logInScreen);\n"]},"metadata":{},"sourceType":"module"}