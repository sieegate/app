(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{482:function(e,t,n){"use strict";var r=n(16),a=n.n(r),o=n(19),i=n.n(o),c=n(0),l=n.n(c),s=n(27),u=n(481),m=n(10),d=n(59),p=n(2),g=n(77),f=n(425),E=n(25),b=n.n(E),y=n(9),h=n.n(y);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j={isLoggingIn:!1,isLoggingOut:!1,isFetchingUserInfo:!1,isLoggedIn:!1,loggedInAt:null,user:null,userInfoUpdatedAt:null,userInfoError:null,authError:null,logOutError:null,isSigningUp:!1,token:null,userInfoUpdatedAt:null,signUpError:null,isDeletingAccount:!1};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T={users:[],isFetching:!1,lastUpdatedAt:null,isLoaded:!1};function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w={notification:null,form:null,show:!1,timeout:null};function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P={jobs:[],isFetching:!1,lastUpdatedAt:null,isLoaded:!1};function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D={conversations:[],conversationsIds:[],interlocutorsIds:[],lastUpdatedAt:null,isLoaded:!1,isFetchingConversations:!1,isFetchingConversation:!1},k=Object(g.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_AUTH_TOKEN":return S({},e,{},t.data);case"REQUEST_SIGN_UP":case"REQUEST_SIGN_UP":return S({},e,{isSigningUp:!0,signUpError:null});case"REQUEST_LOG_IN":return S({},e,{isLoggingIn:!0});case"REQUEST_LOG_OUT":return S({},e,{isloggingOut:!0});case"REQUEST_UPDATE_USER":return S({},e,{isUpdatingUser:!0});case"REQUEST_DELETE_ACCOUNT":return S({},e,{isDeletingAccount:!0});case"REQUEST_UPDATE_PASSWORD":return S({},e,{isUpdatingPassword:!0});case"REQUEST_MY_JOBS":return S({},e,{isFetching:!0});case"REQUEST_UPDATE_JOB":return S({},e,{isUpdatingJob:!0});case"REQUEST_CREATE_JOB":return e;case"RECEIVE_CONVERSATION":return S({},e,{user:S({},e.user,{privateConversations:[].concat(b()(e.user.privateConversations),[{conversation_id:t.conversation._id,interlocutor_id:t.message.sender}])})});case"PRIVATE_CONVERSATION_ACK":return S({},e,{user:S({},e.user,{privateConversations:[].concat(b()(e.user.privateConversations),[{conversation_id:t.conversation._id,interlocutor_id:t.message.recipient}])})});case"REQUEST_VERIFY_TOKEN:SUCCESS":return S({},e,{tokenVerifiedAt:t.receivedAt});case"REQUEST_LOG_IN:SUCCESS":return S({},e,{isLoggingIn:!1,isLoggedIn:!0,loggedInAt:t.receivedAt,userInfoUpdatedAt:t.receivedAt,logInError:null},t.data);case"REQUEST_SIGN_UP:SUCCESS":return S({},e,{isSigningUp:!1,user:t.user,token:t.token,loggedInAt:t.receivedAt,isLoggedIn:!0,userInfoUpdatedAt:t.receivedAt,signUpError:null},t.data);case"REQUEST_DELETE_ACCOUNT:SUCCESS":case"REQUEST_LOG_OUT:SUCCESS":return j;case"REQUEST_UPDATE_USER:SUCCESS":return S({},e,{updateUserError:null,isUpdatingUser:!1,userInfoUpdatedAt:t.receivedAt},t.data);case"REQUEST_MY_JOBS:SUCCESS":return S({},e,{isFetching:!1,fetchMyJobsError:null,lastUpdatedAt:t.receivedAt,isLoaded:!0},t.data);case"REQUEST_UPLOAD_FILE:SUCCESS":return S({},e,{},t.data);case"REQUEST_UPDATE_PASSWORD:SUCCESS":return S({},e,{updatePasswordError:null});case"REQUEST_UPDATE_JOB:SUCCESS":return S({},e,{user:S({},e.user,{jobs:t.data.jobs}),isUpdatingJob:!1});case"REQUEST_CREATE_JOB:SUCCESS":return S({},e,{user:S({},e.user,{jobs:[t.data.job].concat(b()(e.user.jobs))})});case"REQUEST_VERIFY_TOKEN:ERROR":return j;case"REQUEST_MY_JOBS:ERROR":return S({},e,{isFetching:!1,lastUpdatedAt:t.receivedAt,isLoaded:!0,fetchMyJobsError:"Vos offres d'emploi n'ont pas pu \xeatre r\xe9cup\xe9r\xe9es, essayez de nouveau."});case"REQUEST_UPDATE_USER:ERROR":return S({},e,{isUpdatingUser:!1,updateUserError:"Cela n'a pas march\xe9. Peut-\xeatre le mot de passe \xe9tait-il incorrect."});case"REQUEST_UPDATE_PASSWORD:ERROR":return S({},e,{isUpdatingPassword:!1,updatePasswordError:"Cela n'a pas march\xe9. Peut-\xeatre le mot de passe \xe9tait-il incorrect."});case"REQUEST_LOG_IN:ERROR":return S({},e,{logInError:"Cela n'a pas march\xe9. Peut-\xeatre le mot de passe \xe9tait-il incorrect.",isLoggingIn:!1});case"REQUEST_SIGN_UP:ERROR":return S({},e,{isSigningUp:!1,signUpError:"Cela n'a pas march\xe9, essayez un autre email."});case"REQUEST_UPDATE_JOB:ERROR":return S({},e,{},t.state,{isUpdatingJob:!1});case"REQUEST_CREATE_JOB:ERROR":return S({},e,{},t.state);default:return e}},overlay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_OVERLAY":return x({},t.payload,{show:!0});case"ASK_USER_INPUT":return{form:t.form,show:!0};case"RESET_OVERLAY":return w;default:return e}},jobs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_JOBS":return _({},e,{isFetching:!0});case"REQUEST_JOBS:SUCCESS":return _({},e,{isFetching:!1,lastUpdatedAt:t.receivedAt,isLoaded:!0},t.data);case"REQUEST_JOBS:ERROR":return _({},e,{isFetching:!1,lastUpdatedAt:t.receivedAt,isLoaded:!0});case"REQUEST_DELETE_JOB":return _({},e,{isDeleting:!0});case"REQUEST_DELETE_JOB:SUCCESS":return _({},e,{isDeleting:!1,lastUpdatedAt:t.receivedAt});case"REQUEST_CREATE_JOB:SUCCESS":return _({},e,{jobs:[t.data.job].concat(b()(e.jobs))});case"REQUEST_DELETE_JOB:ERROR":return _({},e,{isFetchingConversations:!1});case"REQUEST_LOG_OUT:SUCCESS":return P;default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_USERS":return C({},e,{isFetching:!0});case"REQUEST_USERS:SUCCESS":case"REQUEST_USERS:ERROR":return C({},t.data,{isFetching:!1,lastUpdatedAt:t.receivedAt,isLoaded:!0});case"REQUEST_LOG_OUT:SUCCESS":return T;default:return e}},chat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_CONVERSATIONS:SUCCESS":return z({},e,{lastUpdatedAt:t.receivedAt,isLoaded:!0,isFetchingConversations:!1},t.data);case"REQUEST_CONVERSATION:SUCCESS":return z({},e,{conversations:[t.data].concat(b()(e.conversations.filter((function(e){return e._id!==t.data._id})))),lastUpdatedAt:t.receivedAt,isLoaded:!0});case"PRIVATE_CONVERSATION_ACK":case"RECEIVE_NEW_CONVERSATION":return z({},e,{conversations:[t.conversation].concat(b()(e.conversations)),lastUpdatedAt:t.receivedAt});case"PRIVATE_MESSAGE_ACK":case"RECEIVE_PRIVATE_MESSAGE":var n=e.conversations.map((function(e){return e._id})).indexOf(t.message.conversation_id);return e.conversations[n].messages?z({},e,{lastUpdatedAt:t.receivedAt,conversations:[z({},e.conversations[n],{lastMessage:t.message,messages:[t.message].concat(b()(e.conversations[n].messages))})].concat(b()(e.conversations.filter((function(e){return e._id!==t.message.conversation_id})))),isLoaded:!0}):z({},e,{lastUpdatedAt:t.receivedAt,conversations:[z({},e.conversations[n],{lastMessage:t.message,messages:[t.message]})].concat(b()(e.conversations.filter((function(e){return e._id!==t.message.conversation_id})))),isLoaded:!0});case"REQUEST_LOG_OUT:SUCCESS":return D;default:return e}}}),I=n(426),V=n.n(I),N=n(220),L=n.n(N),M={baseUrl:"https://siee-gate-test.herokuapp.com/api/"},B=function(e){return{type:"SHOW_OVERLAY",payload:{notification:e.notification,form:e.form,menu:e.menu,timeout:e.timeout,callbacks:e.callbacks,redirect:e.redirect}}};function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=n(428),G=n(427),W=n.n(G),F=n(227),Y={key:"root",storage:J.a,blacklist:["overlay"]},K=Object(F.a)(Y,k),q=[f.a,function(e){return function(e){return function(t){return console.log(t.type),e(t)}}},function(e){return function(t){return function(n){var r,a,o;return"REQUEST"===(null==(r=n.type)?void 0:r.substring(0,7))&&!1===(null==(a=n.type)?void 0:a.includes(":"))?(o="REQUEST_UPLOAD"===n.type.substring(0,14)?L.a.create({baseURL:M.baseUrl,timeout:3e3,headers:{accept:"application/json","Access-Control-Allow-Origin":"*","Content-Type":"multipart/form-data",Authorization:"Bearer "+e.getState().auth.token}}):L.a.create({baseURL:M.baseUrl,timeout:3e3,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:"Bearer "+e.getState().auth.token}}),new Promise((function(e,t){switch(n.method){case"GET":return e(o.get(n.route));case"POST":return e(o.post(n.route,n.payload));case"DELETE":return e(o.delete(n.route,n.payload));case"PATCH":return e(o.patch(n.route,n.payload));default:return}})).then((function(t){return n.successNotification&&e.dispatch(B({timeout:3e3,redirect:n.successNotification.redirect,callbacks:n.successNotification.callbacks,notification:{variant:"success",message:n.successNotification.message}})),e.dispatch({type:n.type+":SUCCESS",data:t.data,receivedAt:new Date})})).catch((function(t){var r,a,o,i;(console.log(t),n.errorNotification||!0===(null==(r=t.response)?void 0:r.data.forceReconnect))&&e.dispatch(B({timeout:3e3,redirect:(null==(a=t.response)?void 0:a.data.forceReconnect)&&"Auth",callbacks:(null==(o=t.response)?void 0:o.data.forceReconnect)&&["REQUEST_LOG_OUT:SUCCESS"],notification:{variant:"error",message:(null==(i=t.response)?void 0:i.data.message)||"Cela n'a pas march\xe9..."}}));return e.dispatch({type:n.type+":ERROR",error:t,receivedAt:new Date})})),t(n)):t(n)}}},function(){var e;return function(t){return function(n){return function(r){var a;if(!e&&t.getState().auth.isLoggedIn&&console.log("socket somehow disconnected"),"REQUEST_LOG_IN:SUCCESS"===r.type||"REQUEST_SIGN_UP:SUCCESS"===r.type||"REQUEST_VERIFY_TOKEN:SUCCESS"===r.type){var o=r.data.token;(e=V()(M.baseUrl.replace("/api/",""),{forceNode:!0,transportOptions:{polling:{extraHeaders:{"Access-Control-Allow-Origin":"*",authorization:o}}}})).on("connected",(function(e){console.log("Socket connected")})),e.on("unauthorized",(function(e){console.log("Socket disconnected")})),e.on("authenticated",(function(e){console.log("Socket authenticated")})),e.on("private-conversation",(function(e){t.dispatch(H({type:"RECEIVE_PRIVATE_CONVERSATION"},e,{receivedAt:new Date}))})),e.on("private-conversation-ack",(function(e){t.dispatch(H({type:"PRIVATE_CONVERSATION_ACK"},e,{receivedAt:new Date}))})),e.on("private-message",(function(e){t.dispatch(H({type:"RECEIVE_PRIVATE_MESSAGE"},e,{receivedAt:new Date}))})),e.on("private-message-ack",(function(e){t.dispatch(H({type:"PRIVATE_MESSAGE_ACK"},e,{receivedAt:new Date}))}))}return"SOCKET"===(null==(a=r.type)?void 0:a.substring(0,6))&&e.emit(r.event,r.payload),"REQUEST_LOG_OUT:SUCCESS"===r.type&&(e.disconnect(),console.log("socket disconnected")),n(r)}}}}(),W.a],X=Object(g.d)(K,g.a.apply(void 0,q)),Z=Object(F.b)(X),$=n(430),ee=n(421),te=n(704),ne=n(703),re=n(702),ae=n(13),oe=n(186),ie=n(15),ce=n(71),le=n(31),se=n(34),ue=n.n(se),me=n(76),de=n(705),pe=c.createRef(),ge=c.createRef();function fe(e,t){pe.current&&ge.current&&ge.current.navigate(e,t)}var Ee=Object(s.b)((function(e){return{auth:e.auth}}),(function(e){return{logOut:function(){return e({type:"REQUEST_LOG_OUT",route:"/auth/logout",method:"GET",errorNotification:!0})}}}))((function(e){var t=e.navigation,n=e.leftButton,r=e.title,a=e.logOut,o=e.noRightButton,i=Object(c.useContext)(ae.f).theme;return l.a.createElement(de.a,{colors:[i.colors.primary,i.colors.secondary],start:[.25,1],end:[.25,0],style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingTop:"web"===m.a.OS?10:me.a.statusBarHeight,paddingHorizontal:10,paddingBottom:8}},l.a.createElement((function(){switch(n){case"profile":return l.a.createElement(ae.d,{name:"menu",onPress:function(){return t.openDrawer()},color:"white"});case"back":return l.a.createElement(ae.d,{name:"arrow-left",color:"white",onPress:function(){return fe("Main")}});default:return l.a.createElement(ae.d,{name:"menu",onPress:function(){return t.openDrawer()},color:"white"})}}),null),l.a.createElement((function(){return l.a.createElement(p.a,null,l.a.createElement(ie.a,{style:{color:"white",fontSize:20,textAlign:"center"}},r))}),null),l.a.createElement((function(){return o?l.a.createElement(p.a,null):l.a.createElement(p.a,null,l.a.createElement(ae.d,{name:"logout",color:"white",onPress:function(){return a()}}))}),null))})),be=(n(117),n(14)),ye=n.n(be),he=function(e){var t=e.item,n=e.navigation,r=Object(c.useContext)(ae.f).theme;return l.a.createElement(le.a,{onPress:function(){return n.navigate("Edit",{job:t})}},l.a.createElement(p.a,{style:{paddingTop:8,paddingHorizontal:20,marginVertical:4,marginHorizontal:0,borderBottomWidth:1,borderBottomColor:r.colors.grey4,paddingVertical:12,flexDirection:"row"}},l.a.createElement(p.a,{style:{flex:1}},l.a.createElement(ie.a,{style:{textAlignVertical:"bottom",fontWeight:"bold",fontSize:16}},null==t?void 0:t.jobTitle," en ",null==t?void 0:t.employmentType),l.a.createElement(p.a,{style:{flexDirection:"row",alignItems:"center"}},l.a.createElement(ae.d,{name:"briefcase",size:20,color:"grey"}),l.a.createElement(ie.a,{style:{textAlignVertical:"bottom",marginStart:8}},null==t?void 0:t.organisation)),l.a.createElement(p.a,{style:{flexDirection:"row",alignItems:"center",flex:1}},l.a.createElement(ae.d,{name:"map-marker",size:20}),l.a.createElement(ie.a,{style:{textAlignVertical:"bottom",marginStart:8,flex:1}},ue.a.capitalize(null==t?void 0:t.city)),l.a.createElement(ie.a,{color:"grey",style:{color:"grey",fontSize:10,textAlignVertical:"bottom"}},ue.a.capitalize(ye()(null==t?void 0:t.publishedAt).locale("fr").fromNow()))))))},ve=Object(s.b)((function(e){return{jobs:e.jobs,auth:e.auth}}),(function(e){return{fetchMyJobs:function(){return e({type:"REQUEST_MY_JOBS",route:"jobs/me",method:"GET"})}}}))((function(e){var t=e.auth,n=e.navigation,r=e.fetchMyJobs;return Object(c.useEffect)((function(){r()}),[]),l.a.createElement(p.a,{style:{flex:1,backgroundColor:"white"}},l.a.createElement(Ee,{title:"Mes offres d'emploi",navigation:n,noRightButton:!0,leftButton:"back"}),l.a.createElement(ce.a,{data:t.user.jobs,renderItem:function(e){var t=e.item;return l.a.createElement(he,{item:t,navigation:n})},keyExtractor:function(e){return null==e?void 0:e._id}}))})),Se=n(73),je=n(47);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ce=Object(s.b)((function(e){return{jobs:e.jobs,auth:e.auth}}),(function(e){return{updateJob:function(t){return e(function(e){return{type:"REQUEST_UPDATE_JOB",method:"PATCH",route:"jobs/"+e._id,payload:e,successNotification:{message:"Votre offre d'emploi a \xe9t\xe9 mise \xe0 jour.",variant:"success",redirect:"MyJobs",timeout:1e3},errorNotification:{message:"Cela n'a pas march\xe9... Essayez de nouveau.",variant:"error",timeout:2e3}}}(t))},deleteJob:function(t){return e(function(e){return{type:"REQUEST_DELETE_JOB",method:"DELETE",route:"jobs/"+e,successNotification:{message:"Offre d'emploi supprim\xe9e.",variant:"success",redirect:"MyJobs",timeout:1e3},errorNotification:{message:"Cela n'a pas march\xe9... Essayez de nouveau.",variant:"error",timeout:2e3}}}(t))},fetchMyJobs:function(){return e({type:"REQUEST_MY_JOBS",route:"jobs/me",method:"GET"})}}}))((function(e){var t=e.updateJob,n=e.deleteJob,r=e.route,o=e.fetchMyJobs,s=e.navigation,u=Object(c.useState)(!1),m=i()(u,2),d=m[0],g=m[1],f=Object(c.useState)(!1),E=i()(f,2),b=E[0],y=E[1],v=r.params.job,S=Object(c.useContext)(ae.f).theme,j=Object(c.useState)(v.employmentType),O=i()(j,2),C=O[0],T=O[1],R=Object(c.useState)(v.asap),x=i()(R,2),w=x[0],U=x[1],_=Object(c.useState)(v.organisation),P=i()(_,2),A=P[0],z=P[1],D=Object(c.useState)(v.city),k=i()(D,2),I=k[0],V=k[1],N=Object(c.useState)(v.salary),L=i()(N,2),M=L[0],B=L[1],Q=Object(c.useState)(v.jobTitle),H=i()(Q,2),J=H[0],G=H[1],W=Object(c.useState)(v.jobDesc),F=i()(W,2),Y=F[0],K=F[1],q=Object(c.useState)(""+v.minExp),X=i()(q,2),Z=X[0],$=X[1],ee=Object(c.useState)(v.contact),te=i()(ee,2),ne=te[0],re=te[1],oe=Object(c.useState)({}),ce=i()(oe,2),le=ce[0],se=ce[1],ue=function(){return C?A?I?Y?J?Z?(t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},v,{employmentType:C,asap:w,organisation:A,city:I,salary:M,jobDesc:Y,jobTitle:J,minExp:Z,contact:ne})),U(!1),V(),B(),re(),se({}),T(),z(),K(),void G()):se({minExp:"Ce champs est obligatoire."}):se({jobTitle:"Ce champs est obligatoire."}):se({jobDesc:"Ce champs est obligatoire."}):se({city:"Ce champs est obligatoire."}):se({organisation:"Ce champs est obligatoire."}):se({employmentType:"Ce champs est obligatoire."})};return l.a.createElement(p.a,{style:{flex:1,alignContent:"space-between",paddingVertical:8,paddingHorizontal:8,backgroundColor:"white"}},l.a.createElement(je.a,null,l.a.createElement(ae.e,{label:"Type de contrat*",placeholder:"CDI, CDD, Apprentissage...",value:C,onChangeText:function(e){return T(e)},errorMessage:le.employmentType}),l.a.createElement(ae.e,{label:"Organisation*",placeholder:"Deloitte, Engie, EY...",value:A,onChangeText:function(e){return z(e)},errorMessage:le.organisation}),l.a.createElement(ae.e,{placeholder:"Paris, Shanghai, Lyon...",label:"Ville*",value:I,onChangeText:function(e){return V(e)},errorMessage:le.city}),l.a.createElement(ae.e,{placeholder:"Auditeur des SI, Pentester junior...",label:"Intitul\xe9 du poste*",value:J,onChangeText:function(e){return G(e)},errorMessage:le.jobTitle}),l.a.createElement(ae.e,{label:"Description du poste*",multiline:!0,inputStyle:{height:200,textAlignVertical:"top"},placeholder:"Les missions, les comp\xe9tences requises, l'employeur...",value:Y,onChangeText:function(e){return K(e)},errorMessage:le.jobDesc}),l.a.createElement(ae.e,{label:"Exp\xe9rience*",placeholder:"Ann\xe9es pass\xe9es dans un poste similaire",value:Z,keyboardType:"number-pad",onChangeText:function(e){return $(e)},errorMessage:le.minExp}),l.a.createElement(ae.e,{label:"R\xe9mun\xe9ration",placeholder:"En \u20ac",keyboardType:"decimal-pad",value:M,onChangeText:function(e){return B(e)},showSoftInputOnFocus:!1,errorMessage:le.salary}),l.a.createElement(p.a,{style:{marginBottom:12,flexDirection:"row",display:"flex",height:40}},l.a.createElement(ie.a,{style:{color:S.colors.grey3,fontWeight:"bold",paddingLeft:10,fontSize:16,flex:1,textAlignVertical:"center"}},"Poste \xe0 pourvoir d\xe8s que possible"),l.a.createElement(Se.a,{trackColor:{false:S.colors.grey4,true:S.colors.primarySoft},thumbColor:w?S.colors.primary:S.colors.grey2,value:w,onValueChange:function(e){return U(e)}})),l.a.createElement(ae.e,{label:"Contact",placeholder:"Email",value:ne,onChangeText:function(e){return re(e)},errorMessage:le.contact})),l.a.createElement(p.a,{style:{paddingTop:8}},l.a.createElement(ae.b,{title:"Valider les changements",loading:b,onPress:function(){y(!0),ue(),y(!1),o(),s.navigate("Read")},buttonStyle:{backgroundColor:S.colors.primary}}),l.a.createElement(ae.b,{title:"Supprimer l'offre",loading:d,onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,a.a.awrap(n(v._id));case 3:g(!1),o(),s.navigate("Read");case 6:case"end":return e.stop()}}),null,null,null,Promise)},buttonStyle:{backgroundColor:S.colors.error}})))})),Te=Object(ne.a)(),Re=function(){return l.a.createElement(p.a,{style:{flex:1}},l.a.createElement(Te.Navigator,{initialRouteName:"Read",headerMode:"screen"},l.a.createElement(Te.Screen,{name:"Read",component:ve,options:{headerShown:!1}}),l.a.createElement(Te.Screen,{name:"Edit",component:Ce,options:{title:"Modifier"}})))},xe=n(126),we=n(49),Ue=n(57),_e=n(40),Pe=function(e){var t=e.item,n=e.navigation;return l.a.createElement(_e.f,{onPress:function(){return n.navigate("Read",{job:t})}},l.a.createElement(p.a,{style:{paddingTop:8,paddingHorizontal:20,marginVertical:4,marginHorizontal:0,borderBottomWidth:1,borderBottomColor:Ue.colors.grey4,paddingVertical:12,flexDirection:"row"}},l.a.createElement(p.a,{style:{flex:1}},l.a.createElement(ie.a,{style:{textAlignVertical:"bottom",fontWeight:"bold",fontSize:16}},null==t?void 0:t.jobTitle," en ",null==t?void 0:t.employmentType),l.a.createElement(p.a,{style:{flexDirection:"row",alignItems:"center"}},l.a.createElement(ae.d,{name:"briefcase",size:20,color:"grey"}),l.a.createElement(ie.a,{style:{textAlignVertical:"bottom",marginStart:8}},null==t?void 0:t.organisation)),l.a.createElement(p.a,{style:{flexDirection:"row",flex:1,alignItems:"center"}},l.a.createElement(ae.d,{name:"map-marker",size:20}),l.a.createElement(ie.a,{style:{textAlignVertical:"bottom",marginStart:8,flex:1}},ue.a.capitalize(null==t?void 0:t.city)),l.a.createElement(ie.a,{color:"grey",style:{color:"grey",fontSize:10,textAlignVertical:"bottom"}},ue.a.capitalize(ye()(null==t?void 0:t.publishedAt).locale("fr").fromNow()))))))},Ae=Object(s.b)((function(e){return{auth:e.auth,jobs:e.jobs}}),(function(e){return{fetchJobs:function(){return e({type:"REQUEST_JOBS",route:"jobs",method:"GET"})}}}))((function(e){var t=e.navigation,n=e.fetchJobs,r=e.jobs,a=Object(c.useState)(!1),o=i()(a,2),s=o[0],u=o[1];Object(c.useEffect)((function(){n()}),[]);var m=Object(c.useCallback)((function(){u(!0),n(),u(!1)}),[s]);return l.a.createElement(p.a,{style:{flex:1}},r.isLoaded?l.a.createElement(ce.a,{style:{borderRadius:0,shadowOffset:{width:10,height:10},shadowColor:"black",shadowOpacity:.3,elevation:2,backgroundColor:"white"},data:r.jobs,renderItem:function(e){var n=e.item;return l.a.createElement(Pe,{item:n,navigation:t})},keyExtractor:function(e){return null==e?void 0:e._id},refreshControl:l.a.createElement(xe.a,{refreshing:s,onRefresh:m})}):l.a.createElement(p.a,{style:{flex:1,alignContent:"center",justifyContent:"center"}},l.a.createElement(we.a,{size:"large"})),l.a.createElement(ae.b,{containerStyle:{position:"absolute",bottom:0,left:10},buttonStyle:{borderRadius:50},icon:l.a.createElement(ae.d,{name:"plus",size:30,color:"white"}),onPress:function(){return t.navigate("Post")}}))})),ze=Object(s.b)((function(e){return{auth:e.auth,jobs:e.jobs}}),(function(e){return{fetchJobs:function(){return e({type:"REQUEST_JOBS",route:"jobs",method:"GET"})}}}))((function(e){var t=e.route.params.job;return l.a.createElement(p.a,{style:{flex:1,alignContent:"space-between",paddingVertical:10,paddingHorizontal:8,backgroundColor:"white"}},l.a.createElement(je.a,{style:{flex:1,paddingHorizontal:12}},l.a.createElement(p.a,{style:{alignItems:"flex-end"}},l.a.createElement(ie.a,{style:{color:"grey",fontSize:12,textAlignVertical:"bottom"}},ue.a.capitalize(ye()(t.publishedAt).locale("fr").fromNow()))),l.a.createElement(p.a,{style:{flexDirection:"row",alignItems:"center"}},l.a.createElement(ae.d,{name:"briefcase",size:25,color:"grey"}),l.a.createElement(ie.a,{style:{textAlignVertical:"bottom",marginStart:8,fontSize:20}},t.organisation)),l.a.createElement(p.a,{style:{flexDirection:"row",alignItems:"center"}},l.a.createElement(ae.d,{name:"map-marker",size:25,color:Ue.colors.grey2}),l.a.createElement(ie.a,{style:{textAlignVertical:"bottom",marginStart:8,fontSize:20}},ue.a.capitalize(t.city))),l.a.createElement(ie.a,{style:{color:Ue.colors.grey3,fontWeight:"bold",fontSize:16,marginTop:8}},"Description"),l.a.createElement(ie.a,{style:{marginBottom:4,textAlign:"justify",fontSize:16}},t.jobDesc),t.salary&&l.a.createElement(ie.a,null,"R\xe9mun\xe9ration \xe0 hauteur de ",t.salary," brut."),t.asap&&l.a.createElement(ie.a,{style:{color:Ue.colors.primary}},"Poste \xe0 pourvoir d\xe8s que possible."),l.a.createElement(ie.a,{style:{color:Ue.colors.grey3,fontWeight:"bold",fontSize:16,marginTop:8}},"Contact"),l.a.createElement(ie.a,null,t.contact)))})),De=n(479),ke=n.n(De),Ie=function(e){ke()(e);var t=Object(c.useContext)(ae.f).theme,n=Object(s.d)(),r=Object(c.useState)(!1),a=i()(r,2),o=a[0],u=a[1],m=Object(c.useState)({}),d=i()(m,2),g=d[0],f=d[1],E=Object(c.useState)(""),b=i()(E,2),y=b[0],h=b[1],v=Object(c.useState)(!1),S=i()(v,2),j=S[0],O=S[1],C=Object(c.useState)(""),T=i()(C,2),R=T[0],x=T[1],w=Object(c.useState)(""),U=i()(w,2),_=U[0],P=U[1],A=Object(c.useState)(""),z=i()(A,2),D=z[0],k=z[1],I=Object(c.useState)(""),V=i()(I,2),N=V[0],L=V[1],M=Object(c.useState)(),B=i()(M,2),Q=B[0],H=B[1],J=Object(c.useState)(),G=i()(J,2),W=G[0],F=G[1],Y=Object(c.useState)(""),K=i()(Y,2),q=K[0],X=K[1],Z=!!(_&&R&&y&&N&&D&&q);return l.a.createElement(p.a,{style:{flex:1}},l.a.createElement(p.a,{style:{flex:1,backgroundColor:"white"}},l.a.createElement(je.a,{style:{paddingHorizontal:12,paddingTop:20,paddingBottom:100}},l.a.createElement(ae.e,{label:"Type de contrat*",placeholder:"CDI, CDD, Apprentissage...",value:y,onChangeText:function(e){return h(e)},errorMessage:g.employmentType}),l.a.createElement(ae.e,{label:"Organisation*",placeholder:"Deloitte, Engie, EY...",value:R,onChangeText:function(e){return x(e)},errorMessage:g.organisation}),l.a.createElement(ae.e,{placeholder:"Paris, Shanghai, Lyon...",label:"Ville*",value:_,onChangeText:function(e){return P(e)},errorMessage:g.city}),l.a.createElement(ae.e,{placeholder:"Auditeur des SI, Pentester junior...",label:"Intitul\xe9 du poste*",value:D,onChangeText:function(e){return k(e)},errorMessage:g.jobTitle}),l.a.createElement(ae.e,{label:"Description du poste*",multiline:!0,inputStyle:{height:200,textAlignVertical:"top"},placeholder:"Les missions, les comp\xe9tences requises, l'employeur...",value:N,onChangeText:function(e){return L(e)},errorMessage:g.jobDesc}),l.a.createElement(ae.e,{label:"Exp\xe9rience",placeholder:"Ann\xe9es pass\xe9es dans un poste similaire",value:W,keyboardType:"numeric",onChangeText:function(e){return F(e)},errorMessage:g.minExp}),l.a.createElement(ae.e,{label:"R\xe9mun\xe9ration",placeholder:"En \u20ac",value:Q,onChangeText:function(e){return H(e)},showSoftInputOnFocus:!1,errorMessage:g.salary}),l.a.createElement(p.a,{style:{marginBottom:12,flexDirection:"row",display:"flex",height:40}},l.a.createElement(ie.a,{style:{color:t.colors.grey3,fontWeight:"bold",paddingLeft:10,fontSize:16,flex:1,textAlignVertical:"center"}},"Poste \xe0 pourvoir d\xe8s que possible"),l.a.createElement(Se.a,{value:j,onValueChange:function(e){return O(e)}})),l.a.createElement(ae.e,{label:"Contact*",placeholder:"Email",value:q,onChangeText:function(e){return X(e)},errorMessage:g.contact}),l.a.createElement(ae.b,{title:Z?"Poster l'offre d'emploi":"Veuillez remplir tous les champs obligatoires",loading:o,disabled:!Z,buttonStyle:{height:50,marginBottom:12},onPress:function(){return u(!0),n({type:"REQUEST_CREATE_JOB",route:"jobs",payload:{employmentType:y,asap:j,organisation:R,city:_,salary:Q,jobDesc:N,jobTitle:D,minExp:W,contact:q},method:"POST",successNotification:{message:"Votre offre d'emploi a \xe9t\xe9 cr\xe9\xe9e",redirect:"MyJobs"},errorNotification:!0}),u(!1),O(!1),P(),H(),X(),f({}),h(),x(),L(),k(),void u(!1)}}),l.a.createElement(p.a,{style:{height:20}}))))},Ve=Object(ne.a)(),Ne=function(e){var t=e.navigation;return l.a.createElement(p.a,{style:{flex:1}},l.a.createElement(Ee,{title:"Emplois",navigation:t}),l.a.createElement(Ve.Navigator,{initialRouteName:"List",headerMode:"screen"},l.a.createElement(Ve.Screen,{name:"List",component:Ae,options:{headerShown:!1}}),l.a.createElement(Ve.Screen,{name:"Read",component:ze,options:function(e){var t=e.route;return{title:t.params.job.jobTitle+" - "+t.params.job.employmentType,headerStatusBarHeight:0}}}),l.a.createElement(Ve.Screen,{name:"Post",component:Ie,options:{title:"Poster une offre d'emploi",headerStatusBarHeight:0}})))},Le=n(228),Me=Object(s.b)((function(e){return{auth:e.auth}}),(function(e){return{uploadFile:function(t,n){return e(function(e,t){var n=new FormData,r=e.uri.split("/");return n.append(t,{uri:e.uri,name:r[r.length-1],type:"image/jpeg"}),{type:"REQUEST_UPLOAD_FILE",route:"files",payload:n,method:"POST",successNotification:{message:"Votre document a bien \xe9t\xe9 enregistr\xe9 dans la base de donn\xe9es.",variant:"success",redirect:"Profile",timeout:2e3},errorNotification:{message:"Cela n'a pas march\xe9... Essayez de nouveau.",variant:"error",timeout:2e3}}}(t,n))},deleteFile:function(t,n){return e(function(e,t){return{type:"REQUEST_DELETE_FILE",route:"files/"+e+"/"+t,method:"DELETE",successNotification:{message:"Votre document a bien \xe9t\xe9 supprim\xe9 de la base de donn\xe9es.",variant:"success",timeout:2e3},errorNotification:{message:"Cela n'a pas march\xe9... Essayez de nouveau.",variant:"error",timeout:2e3}}}(t,n))}}}))((function(e){var t,n=e.uploadFile,r=e.auth,o=e.navigation,s=e.deleteFile,u=Object(c.useState)(!1),m=i()(u,2),d=m[0],g=m[1],f=Object(c.useContext)(ae.f).theme,E=r.user;return l.a.createElement(p.a,{style:{flex:1}},l.a.createElement(Ee,{navigation:o,title:"Mon profil",leftButton:"back",noRightButton:!0}),r.user?l.a.createElement(p.a,{style:{flex:1,alignContent:"space-between",backgroundColor:"white"}},l.a.createElement(je.a,{style:{paddingTop:40,flex:1,paddingHorizontal:12}},l.a.createElement(de.a,{colors:[f.colors.primary,f.colors.secondary],start:[.25,1],end:[0,0],style:{flexDirection:"row",marginBottom:20,paddingVertical:8,paddingHorizontal:16,borderRadius:5}},l.a.createElement(p.a,{style:{flex:1,alignContent:"center",justifyContent:"center"}},l.a.createElement(ie.a,{style:{fontSize:20,color:f.colors.grey5}},ue.a.capitalize(E.firstname)),l.a.createElement(ie.a,{style:{fontSize:30,color:"white",fontWeight:"bold"}},ue.a.capitalize(E.lastname)),E.professor&&l.a.createElement(ie.a,null,"Professeur"),E.administration&&l.a.createElement(ie.a,null,"Membre du corps administratif")),E.avatar?l.a.createElement(ae.a,{size:"xlarge",containerStyle:{borderColor:"white",borderWidth:3},source:{uri:"https://siee-gate.herokuapp.com/api/files/avatar/"+(null==(t=E.avatar)?void 0:t.filename)},onPress:function(){return g(!d)}}):l.a.createElement(ae.a,{size:"xlarge",containerStyle:{borderColor:"white",borderWidth:3},title:E.firstname.charAt(0).concat(E.lastname.charAt(0)).toUpperCase(),onPress:function(){return g(!d)}}),d&&l.a.createElement(p.a,{style:{paddingHorizontal:4,alignContent:"center",justifyContent:"center"}},l.a.createElement(ae.b,{icon:l.a.createElement(ae.d,{name:"pencil",color:f.colors.grey4}),onPress:function(){return function(){var e;a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(Le.b());case 2:return t.next=4,a.a.awrap(Le.a({allowsEditing:!0}));case 4:!(e=t.sent).cancelled&&n(e,"avatar");case 6:case"end":return t.stop()}}),null,null,null,Promise)}(),void g(!1)},buttonStyle:{backgroundColor:f.colors.primaryLight,width:40,height:40,borderRadius:40}}),l.a.createElement(ae.b,{icon:l.a.createElement(ae.d,{name:"delete",color:f.colors.grey4}),buttonStyle:{backgroundColor:f.colors.grey0,width:40,height:40,borderRadius:40},onPress:function(){var e;return s("avatar",null==(e=E.avatar)?void 0:e.filename)}}))),l.a.createElement(p.a,{style:{flexDirection:"row",alignItems:"center"}},l.a.createElement(ae.d,{name:"briefcase",size:20,color:"grey"}),l.a.createElement(ie.a,{style:{textAlignVertical:"bottom",marginHorizontal:8,flex:1}},E.jobTitle," chez ",E.organisation)),l.a.createElement(p.a,{style:{flexDirection:"row",alignItems:"center"}},l.a.createElement(ae.d,{name:"school",size:20,color:"grey"}),l.a.createElement(ie.a,{style:{textAlignVertical:"bottom",marginHorizontal:8,flex:1}},"Promotion ",E.promo)),l.a.createElement(ae.c,{style:{marginVertical:20,backgroundColor:"grey",borderWidth:1,width:20}}),l.a.createElement(p.a,{style:{flexDirection:"row"}},l.a.createElement(ie.a,{style:{textAlign:"justify",flex:1,marginEnd:8}},E.description)),l.a.createElement(ae.c,{style:{marginVertical:20,backgroundColor:"grey",borderWidth:1,width:20}}),l.a.createElement(p.a,{style:{flexDirection:"row",alignItems:"center"}},l.a.createElement(ae.d,{name:"at",size:20,color:"grey"}),l.a.createElement(ie.a,{style:{textAlignVertical:"bottom",marginStart:8,flex:1}},E.email))),l.a.createElement(p.a,null,l.a.createElement(ae.b,{title:"Editer",onPress:function(){return o.navigate("Edit")}}))):l.a.createElement(p.a,{style:{flex:1,alignContent:"center",justifyContent:"center"}},l.a.createElement(we.a,{size:"large"})))}));function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Qe=Object(s.b)((function(e){return{auth:e.auth}}),(function(e){return{updateUser:function(t){return e(function(e){return{type:"REQUEST_UPDATE_USER",method:"PATCH",route:"auth",payload:e,successNotification:{message:"Vos informations ont \xe9t\xe9 mises \xe0 jour.",variant:"success",redirect:"Read"},errorNotification:!0}}(t))},deleteAccount:function(t){return e({type:"REQUEST_DELETE_ACCOUNT",method:"DELETE",route:"auth",successNotification:{message:"Votre compte a bien \xe9t\xe9 supprim\xe9.",redirect:"Auth"},errorNotification:!0})},updateUserPassword:function(t,n){return e(function(e,t){return{type:"REQUEST_UPDATE_USER",method:"PATCH",route:"auth/password",payload:{password:e,newPassword:t},successNotification:{message:"Votre mot de passe \xe0 \xe9t\xe9 mis \xe0 jour.",variant:"success",redirect:"Read"},errorNotification:!0}}(t,n))}}}))((function(e){var t=e.updateUser,n=e.deleteAccount,r=e.auth,a=e.updateUserPassword,o=Object(c.useContext)(ae.f).theme,s=Object(c.useState)(r.user.description),u=i()(s,2),m=u[0],d=u[1],g=Object(c.useState)(r.user.email),f=i()(g,2),E=f[0],b=f[1],y=Object(c.useState)(r.user.jobTitle),v=i()(y,2),S=v[0],j=v[1],O=Object(c.useState)(r.user.organisation),C=i()(O,2),T=C[0],R=C[1],x=Object(c.useState)(""+(r.user.promo||"")),w=i()(x,2),U=w[0],_=w[1],P=Object(c.useState)(r.user.alumni),A=i()(P,2),z=A[0],D=A[1],k=Object(c.useState)(r.user.professor),I=i()(k,2),V=I[0],N=I[1],L=Object(c.useState)(r.user.administration),M=i()(L,2),B=M[0],Q=M[1],H=Object(c.useState)(""),J=i()(H,2),G=J[0],W=J[1],F=Object(c.useState)(""),Y=i()(F,2),K=Y[0],q=Y[1],X=Object(c.useState)(""),Z=i()(X,2),$=Z[0],ee=Z[1],te=Object(c.useState)(""),ne=i()(te,2),re=ne[0],oe=ne[1],ce=Object(c.useState)(!1),se=i()(ce,2),ue=se[0],me=se[1],de=Object(c.useState)(!1),pe=i()(de,2),ge=pe[0],fe=pe[1],Ee=Object(c.useState)(!1),be=i()(Ee,2),ye=be[0],he=be[1],ve=function(){t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.user,{description:m,email:E,jobTitle:S,organisation:T,promo:U,alumni:z,professor:V,administration:B}))};return l.a.createElement(p.a,{style:{flex:1,alignContent:"space-between",paddingVertical:8,paddingHorizontal:8,backgroundColor:"white"}},l.a.createElement(je.a,null,l.a.createElement(p.a,{style:{borderBottomColor:o.colors.grey4,borderBottomWidth:1}},l.a.createElement(le.a,{style:{paddingVertical:12,paddingHorizontal:12,flexDirection:"row",justifyContent:"space-between",alignContent:"center"},onPress:function(){return he(!ye)}},l.a.createElement(ie.a,{style:{fontSize:16}},"Editer mes informations"),l.a.createElement(ae.d,{name:ye?"chevron-up":"chevron-down"})),ye&&l.a.createElement(p.a,{style:{marginBottom:12}},l.a.createElement(p.a,{style:{marginBottom:12,flexDirection:"row",display:"flex",height:40}},l.a.createElement(ie.a,{style:{color:o.colors.grey3,fontWeight:"bold",paddingLeft:10,fontSize:16,flex:1,textAlignVertical:"center"}},"Diplom\xe9"),l.a.createElement(Se.a,{value:z,onValueChange:function(e){return D(e)}})),z&&l.a.createElement(ae.e,{label:"Promotion",value:U,onChangeText:function(e){return _(e)},leftIcon:l.a.createElement(ae.d,{name:"school"})}),l.a.createElement(p.a,{style:{marginBottom:12,flexDirection:"row",display:"flex",height:40}},l.a.createElement(ie.a,{style:{color:o.colors.grey3,fontWeight:"bold",paddingLeft:10,fontSize:16,flex:1,textAlignVertical:"center"}},"Membre du corps professoral"),l.a.createElement(Se.a,{value:V,onValueChange:function(e){return N(e)}})),l.a.createElement(p.a,{style:{marginBottom:12,flexDirection:"row",display:"flex",height:40}},l.a.createElement(ie.a,{style:{color:o.colors.grey3,fontWeight:"bold",paddingLeft:10,fontSize:16,flex:1,textAlignVertical:"center"}},"Membre du corps administratif"),l.a.createElement(Se.a,{value:B,onValueChange:function(e){return Q(e)}})),l.a.createElement(ae.e,{value:T,label:"Organisation",onChangeText:function(e){return R(e)},leftIcon:l.a.createElement(ae.d,{name:"domain"})}),l.a.createElement(ae.e,{value:S,onChangeText:function(e){return j(e)},label:"Profession",leftIcon:l.a.createElement(ae.d,{name:"briefcase"})}),l.a.createElement(ae.e,{label:"Description",value:m,multiline:!0,numberOfLines:8,onChangeText:function(e){return d(e)}}),l.a.createElement(ae.e,{label:"email",value:E,leftIcon:l.a.createElement(ae.d,{name:"email"}),onChangeText:function(e){return b(e)}}),l.a.createElement(ae.b,{title:"Valider les changements",onPress:function(){return ve()},buttonStyle:{backgroundColor:o.colors.primary}}))),l.a.createElement(p.a,{style:{borderBottomColor:o.colors.grey4,borderBottomWidth:1}},l.a.createElement(le.a,{style:{paddingVertical:12,paddingHorizontal:12,flexDirection:"row",justifyContent:"space-between"},onPress:function(){return me(!ue)}},l.a.createElement(ie.a,{style:{fontSize:16}},"Changer mon mot de passe"),l.a.createElement(ae.d,{name:ue?"chevron-up":"chevron-down"})),ue&&l.a.createElement(p.a,{style:{marginBottom:12}},l.a.createElement(ae.e,{placeholder:"Mot de passe",leftIcon:l.a.createElement(ae.d,{name:"lock"}),label:"Ancien mot de passe",secureTextEntry:!0,value:G,leftIconContainerStyle:{marginRight:12},containerStyle:{marginBottom:20,marginTop:8},onChangeText:function(e){return W(e)}}),l.a.createElement(ae.e,{placeholder:"Mot de passe",leftIcon:l.a.createElement(ae.d,{name:"lock"}),label:"Nouveau mot de passe",secureTextEntry:!0,value:re,leftIconContainerStyle:{marginRight:12},containerStyle:{marginBottom:20,marginTop:8},onChangeText:function(e){ee(""),oe(e)},errorMessage:$}),l.a.createElement(ae.e,{placeholder:"Mot de passe",leftIcon:l.a.createElement(ae.d,{name:K===re?"check":"close",color:K===re?"green":"red"}),label:"Confirmation",secureTextEntry:!0,value:K,leftIconContainerStyle:{marginRight:12},containerStyle:{marginBottom:40,marginTop:8},onChangeText:function(e){return q(e)}}),l.a.createElement(ae.b,{title:"Valider",onPress:function(){return re.length<8?ee("Choisissez un mot de passe d'au moins 8 caract\xe8res."):re!==K?ee("Les mots de passe ne correspondent pas."):void a(G,re)},buttonStyle:{backgroundColor:o.colors.primary},loading:r.isUpdatingPassword}))),l.a.createElement(p.a,null,l.a.createElement(le.a,{style:{paddingVertical:12,paddingHorizontal:12,flexDirection:"row",justifyContent:"space-between"},onPress:function(){return fe(!ge)}},l.a.createElement(ie.a,{style:{fontSize:16}},"Supprimer mon compte"),l.a.createElement(ae.d,{name:ge?"chevron-up":"chevron-down"})),ge&&l.a.createElement(p.a,{style:{marginBottom:12}},l.a.createElement(ae.e,{placeholder:"Mot de passe",leftIcon:l.a.createElement(ae.d,{name:"lock"}),label:"Mot de passe",secureTextEntry:!0,value:G,leftIconContainerStyle:{marginRight:12},containerStyle:{marginBottom:20,marginTop:8},onChangeText:function(e){return W(e)}}),l.a.createElement(ae.b,{title:"Valider",disabled:!G,onPress:function(e){return n(e)},buttonStyle:{backgroundColor:o.colors.error}})))))})),He=Object(ne.a)(),Je=function(){return l.a.createElement(p.a,{style:{flex:1}},l.a.createElement(He.Navigator,{initialRouteName:"Lobby",headerMode:"screen"},l.a.createElement(He.Screen,{name:"Read",component:Me,options:{headerShown:!1}}),l.a.createElement(He.Screen,{name:"Edit",component:Qe,options:{title:"Modifier mon compte"}})))},Ge=function(e){var t,n=e.item,r=e.navigation;return l.a.createElement(le.a,{onPress:function(){r.navigate("Read",{item:n})}},l.a.createElement(p.a,{style:{paddingTop:8,paddingHorizontal:20,marginVertical:4,marginHorizontal:0,borderBottomWidth:1,borderBottomColor:Ue.colors.grey4,paddingVertical:12,flexDirection:"row"}},l.a.createElement(p.a,{style:{alignContent:"center",justifyContent:"center",alignItems:"center",marginRight:12}},(null==n?void 0:n.avatar)?l.a.createElement(ae.a,{source:{uri:"https://siee-gate.herokuapp.com/api/files/avatar/"+(null==n||null==(t=n.avatar)?void 0:t.filename)},size:"medium"}):l.a.createElement(ae.a,{size:"medium",title:null==n?void 0:n.firstname[0].concat(null==n?void 0:n.lastname[0]).toUpperCase()})),l.a.createElement(p.a,null,l.a.createElement(ie.a,{style:{textAlignVertical:"bottom",fontWeight:"bold",fontSize:16}},ue.a.capitalize(null==n?void 0:n.firstname)," ",ue.a.capitalize(null==n?void 0:n.lastname)),l.a.createElement(p.a,{style:{flexDirection:"row",flex:1,alignItems:"center"}},l.a.createElement(ae.d,{name:"account-card-details",size:20}),l.a.createElement(ie.a,{style:{textAlignVertical:"bottom",marginStart:8}},null==n?void 0:n.jobTitle," chez ",null==n?void 0:n.organisation)),l.a.createElement(p.a,{style:{flexDirection:"row",flex:1,alignItems:"center"}},l.a.createElement(ae.d,{name:"school",size:20}),l.a.createElement(ie.a,{style:{textAlignVertical:"bottom",marginStart:8}},"SIEE promotion ",null==n?void 0:n.promo)))))},We=function(e){var t,n=e.navigation,r=Object(s.d)(),a=Object(s.e)((function(e){return e})),o=a.users,i=a.auth;return Object(c.useEffect)((function(){r({type:"REQUEST_USERS",method:"GET",route:"users"})}),[]),l.a.createElement(p.a,{style:{flex:1}},o.isLoaded?l.a.createElement(ce.a,{style:{borderRadius:0,shadowOffset:{width:10,height:10},shadowColor:"black",shadowOpacity:.3,elevation:2,backgroundColor:"white"},data:null==(t=o.users)?void 0:t.filter((function(e){return e._id!==i.user._id})),renderItem:function(e){var t=e.item;return l.a.createElement(Ge,{item:t,navigation:n})},keyExtractor:function(e){return null==e?void 0:e._id}}):l.a.createElement(p.a,{style:{flex:1,alignContent:"center",justifyContent:"center"}},l.a.createElement(we.a,{size:"large"})))};function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ke=function(e){return{type:"SOCKET",event:"private-conversation",payload:Ye({},e,{sentAt:new Date})}},qe=function(e){var t,n=e.route,r=e.navigation,a=Object(s.e)((function(e){return e})).auth,o=Object(s.d)(),i=n.params.item,c=ue.a.capitalize(null==i?void 0:i.firstname)+" "+ue.a.capitalize(null==i?void 0:i.lastname);return l.a.createElement(p.a,{style:{flex:1}},l.a.createElement(p.a,{style:{flex:1,alignContent:"space-between",paddingVertical:10,paddingHorizontal:8,backgroundColor:"white"}},l.a.createElement(je.a,{style:{flex:1}},l.a.createElement(de.a,{colors:[Ue.colors.primary,Ue.colors.secondary],start:[.25,1],end:[0,0],style:{flexDirection:"row",marginBottom:20,paddingVertical:8,paddingHorizontal:16,borderRadius:5}},l.a.createElement(p.a,{style:{flex:1,alignContent:"center",justifyContent:"center"}},l.a.createElement(ie.a,{style:{fontSize:20,color:Ue.colors.grey5}},ue.a.capitalize(null==i?void 0:i.firstname)),l.a.createElement(ie.a,{style:{fontSize:30,color:"white",fontWeight:"bold"}},ue.a.capitalize(null==i?void 0:i.lastname))),(null==i?void 0:i.avatar)?l.a.createElement(ae.a,{size:"xlarge",containerStyle:{borderColor:"white",borderWidth:3},source:{uri:"https://siee-gate.herokuapp.com/api/files/avatar/"+(null==i||null==(t=i.avatar)?void 0:t.filename)}}):l.a.createElement(ae.a,{size:"xlarge",containerStyle:{borderColor:"white",borderWidth:3},title:null==i?void 0:i.firstname.charAt(0).concat(null==i?void 0:i.lastname.charAt(0)).toUpperCase()})),l.a.createElement(p.a,{style:{flexDirection:"row",alignItems:"center"}},l.a.createElement(ae.d,{name:"briefcase",size:20,color:"grey"}),l.a.createElement(ie.a,{style:{textAlignVertical:"bottom",marginHorizontal:8,flex:1}},null==i?void 0:i.jobTitle," chez ",null==i?void 0:i.organisation)),l.a.createElement(p.a,{style:{flexDirection:"row",alignItems:"center"}},l.a.createElement(ae.d,{name:"school",size:20,color:"grey"}),l.a.createElement(ie.a,{style:{textAlignVertical:"bottom",marginHorizontal:8,flex:1}},"Promotion ",null==i?void 0:i.promo)),l.a.createElement(ae.c,{style:{marginVertical:20,backgroundColor:"grey",borderWidth:1,width:20}}),l.a.createElement(p.a,{style:{flexDirection:"row"}},l.a.createElement(ie.a,{style:{textAlign:"justify",flex:1,marginEnd:8}},null==i?void 0:i.description)),l.a.createElement(ae.c,{style:{marginVertical:20,backgroundColor:"grey",borderWidth:1,width:20}}),l.a.createElement(p.a,{style:{flexDirection:"row"}},l.a.createElement(ae.d,{name:"at",size:20,color:"grey"}),l.a.createElement(ie.a,{style:{textAlignVertical:"bottom",marginStart:8,flex:1}},null==i?void 0:i.email))),l.a.createElement(ae.b,{title:"Contacter",onPress:function(){var e=a.user.privateConversations.filter((function(e){return e.interlocutor_id==i._id}));e.length>0?r.navigate("Messages",{screen:"Room",params:{title:c,conversation_id:e[0].conversation_id}}):o(B({form:{action:Ke,inputName:"text",actionParams:{recipient:null==i?void 0:i._id},message:"Demarrer une conversation avec "+ue.a.capitalize(null==i?void 0:i.firstname)+" "+ue.a.capitalize(null==i?void 0:i.lastname)},redirect:"Messages"}))}})))},Xe=Object(ne.a)(),Ze=function(e){var t=e.navigation;return l.a.createElement(p.a,{style:{flex:1}},l.a.createElement(Ee,{title:"Annuaire",navigation:t}),l.a.createElement(Xe.Navigator,{initialRouteName:"List",headerMode:"screen"},l.a.createElement(Xe.Screen,{name:"List",component:We,options:{headerShown:!1}}),l.a.createElement(Xe.Screen,{name:"Read",component:qe,options:{headerStatusBarHeight:0,title:""}})))},$e=n(56),et=function(e){var t,n,r,a,o,i,c,s,u=e.item,m=e.navigation,d=e.auth,g=e.theme,f=(e.dispatch,function(){var e,t,n,r,a;return ue.a.remove(null==u?void 0:u.participants,(function(e){return e._id===d.user._id})),(null==u||null==(e=u.participants)?void 0:e.length)>1?(null==u||null==(n=u.participants)?void 0:n.map((function(e){return ue.a.capitalize(e.firstname)}))).toString().replace(",",", "):1===(null==u||null==(t=u.participants)?void 0:t.length)?ue.a.capitalize(null==u||null==(r=u.participants[0])?void 0:r.firstname).concat(" ",ue.a.capitalize(null==u||null==(a=u.participants[0])?void 0:a.lastname)):"Compte supprim\xe9"}),E=f(),b=f();return l.a.createElement(le.a,{onPress:function(){return m.navigate("Room",{title:E,conversation_id:u._id})}},l.a.createElement(p.a,{style:{paddingHorizontal:8,paddingVertical:8,borderBottomColor:"white",borderBottomWidth:3,backgroundColor:"white"}},l.a.createElement(p.a,{style:{flexDirection:"row"}},l.a.createElement(p.a,{style:{alignContent:"center",justifyContent:"center",paddingRight:8}},(null==u||null==(t=u.participants[0])?void 0:t.avatar)?l.a.createElement(ae.a,{source:{uri:M.baseUrl+"/files/avatar/"+(null==u||null==(n=u.participants[0])||null==(r=n.avatar)?void 0:r.filename)},size:"medium"}):l.a.createElement(ae.a,{size:"medium",title:null==u||null==(a=u.participants[0])?void 0:a.firstname[0].concat(null==u||null==(o=u.participants[0])?void 0:o.lastname[0]).toUpperCase()})),l.a.createElement(p.a,{style:{flex:1,justifyContent:"flex-start"}},l.a.createElement(p.a,{style:{flexDirection:"row",justifyContent:"space-between"}},l.a.createElement(ie.a,{style:{textAlignVertical:"bottom",fontSize:16,fontWeight:"bold"}},b),l.a.createElement(ie.a,{color:"grey",style:{color:"grey",fontSize:10,textAlignVertical:"bottom"}},ue.a.capitalize(ye()(null==u||null==(i=u.lastMessage)?void 0:i.sentAt).locale("fr").fromNow()))),l.a.createElement(p.a,{style:{flexDirection:"row",alignItems:"center"}},l.a.createElement(p.a,{style:{alignContent:"center",justifyContent:"center"}},(null==u||null==(c=u.lastMessage)?void 0:c.sender)===d.user._id?l.a.createElement(ae.d,{name:"arrow-top-right",color:g.colors.grey1,size:14}):l.a.createElement(ae.d,{name:"arrow-bottom-left",color:g.colors.grey3,size:14})),l.a.createElement(ie.a,{style:{textAlignVertical:"center",fontSize:14,flex:1}},null==u||null==(s=u.lastMessage)?void 0:s.text))))))},tt=function(e){var t=e.navigation,n=Object(c.useState)(!1),r=i()(n,2),a=r[0],o=r[1],u=Object(c.useState)(""),m=i()(u,2),d=(m[0],m[1],Object(c.useContext)(ae.f).theme),g=Object(s.d)(),f=Object(s.e)((function(e){return e})),E=f.chat,b=(f.users,f.auth);Object(c.useEffect)((function(){g({type:"REQUEST_CONVERSATIONS",method:"GET",route:"conversations"}),g({type:"REQUEST_USERS",method:"GET",route:"users"})}),[]);var y=Object(c.useCallback)((function(){o(!0),g({type:"REQUEST_CONVERSATIONS",method:"GET",route:"conversations"}),o(!1)}),[a]);return l.a.createElement(p.a,{style:{flex:1}},E.isLoaded?E.conversations.length>0?l.a.createElement(ce.a,{data:E.conversations,renderItem:function(e){var n=e.item;return l.a.createElement(et,{item:n,auth:b,navigation:t,theme:d,dispatch:g})},keyExtractor:function(e){return null==e?void 0:e._id},refreshControl:l.a.createElement(xe.a,{refreshing:a,onRefresh:y})}):l.a.createElement(p.a,{style:{flex:1,alignContent:"center",justifyContent:"center"}},l.a.createElement(ie.a,{style:{textAlign:"center",color:d.colors.grey3}},"Aucune conversation"),l.a.createElement(ae.b,{title:"Rafraichir",type:"clear",onPress:function(){return g({type:"REQUEST_CONVERSATIONS",method:"GET",route:"conversations"})}})):l.a.createElement(p.a,{style:{flex:1,alignContent:"center",justifyContent:"center"}},l.a.createElement(we.a,{size:"large"})))},nt=function(e){var t=e.message,n=e.incoming,r=e.theme;return l.a.createElement(p.a,{style:{flexDirection:"row"}},!n&&l.a.createElement(p.a,{style:{flex:1}}),l.a.createElement(p.a,{style:{backgroundColor:n?"white":r.colors.primary,borderTopLeftRadius:n?0:10,borderTopRightRadius:10,borderBottomLeftRadius:10,borderBottomRightRadius:n?10:0,maxWidth:"80%",paddingHorizontal:8,paddingVertical:8,marginBottom:8,marginHorizontal:8}},l.a.createElement(ie.a,{style:{color:n?"black":"white",textAlign:n?"left":"right"}},t.text)),n&&l.a.createElement(p.a,{style:{flex:1}}))},rt=function(e){var t=e.route.params.conversation_id,n=Object(c.useState)(""),r=i()(n,2),a=r[0],o=r[1],u=Object(c.useContext)(ae.f).theme,m=Object(s.e)((function(e){return e.auth})).user,d=Object(s.e)((function(e){return e.chat.conversations.filter((function(e){return e._id===t}))[0]})),g=Object(s.d)();Object(c.useEffect)((function(){g(function(e){return{type:"REQUEST_CONVERSATION",method:"GET",route:"conversations/single/"+e}}(t))}),[]);var f=function(){var e=null==d?void 0:d.participants.filter((function(e){return e._id!=m._id}));g({type:"SOCKET",event:"private-message",payload:Ye({},{text:a,conversation_id:t,recipient:e[0]},{sentAt:new Date})}),o("")};return l.a.createElement(p.a,{style:{flex:1,justifyContent:"space-between"}},(null==d?void 0:d.messages)?l.a.createElement(ce.a,{data:d.messages,renderItem:function(e){var t=e.item;return l.a.createElement(nt,{message:t,incoming:(null==t?void 0:t.sender)!==m._id,theme:u})},keyExtractor:function(e){return null==e?void 0:e._id},inverted:!0}):l.a.createElement(we.a,null),l.a.createElement(p.a,{style:{flexDirection:"row",backgroundColor:"white",paddingVertical:8,paddingHorizontal:16,alignItems:"center",justifyContent:"center",alignContent:"center"}},l.a.createElement($e.a,{style:{height:40,flex:1},onChangeText:function(e){return o(e)},value:a,multiline:!0,placeholder:"Ecrivez votre message ici."}),l.a.createElement(ae.b,{icon:l.a.createElement(ae.d,{name:"send",size:20,color:a?u.colors.primary:u.colors.grey2}),disabled:!a,type:"clear",onPress:function(){return f()}})))},at=Object(ne.a)(),ot=function(e){var t=e.navigation;return l.a.createElement(p.a,{style:{flex:1}},l.a.createElement(Ee,{title:"Messagerie",navigation:t}),l.a.createElement(at.Navigator,{initialRouteName:"Lobby",headerMode:"screen"},l.a.createElement(at.Screen,{name:"Lobby",component:tt,options:{headerShown:!1}}),l.a.createElement(at.Screen,{name:"Room",component:rt,options:function(e){var t=e.route.params.title;return t?{title:t,headerStatusBarHeight:0}:{title:"Compte supprim\xe9",headerStatusBarHeight:0}}})))},it=n(37),ct=Object(s.b)((function(e){return{auth:e.auth}}),(function(e){return{logIn:function(t){return e(function(e){return{type:"REQUEST_LOG_IN",route:"/auth/login",payload:e,method:"POST",errorNotification:!0}}(t))}}}))((function(e){var t=e.auth,r=e.logIn,o=e.navigation,s=Object(c.useContext)(ae.f).theme,u=Object(c.useState)(""),m=i()(u,2),d=m[0],g=m[1],f=Object(c.useState)(""),E=i()(f,2),b=E[0],y=E[1],h=Object(c.useState)({}),v=i()(h,2),S=v[0],j=v[1];return l.a.createElement(p.a,{style:{flex:1,justifyContent:"center",alignItems:"center",paddingHorizontal:12,backgroundColor:"white"}},l.a.createElement(de.a,{colors:[s.colors.primary,s.colors.secondary],start:[.25,1],end:[0,0],style:{flexDirection:"row",marginBottom:20,height:150,width:150,borderRadius:100}},l.a.createElement(it.a,{source:n(686),style:{height:150,width:150,borderRadius:100}})),l.a.createElement(ae.e,{placeholder:"Email",leftIcon:l.a.createElement(ae.d,{name:"email",type:"material-community"}),value:d,onChangeText:function(e){return g(e)},label:"Email",errorStyle:{color:"red"},errorMessage:S.email}),l.a.createElement(ae.e,{placeholder:"Mot de passe",leftIcon:l.a.createElement(ae.d,{name:"lock"}),label:"Mot de passe",secureTextEntry:!0,value:b,containerStyle:{marginBottom:30,marginTop:8},onChangeText:function(e){return y(e)},errorStyle:{color:"red"},errorMessage:S.password}),l.a.createElement(ae.b,{title:"Se connecter",onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=4;break}return e.abrupt("return",j({email:"M\xe9l invalide."}));case 4:if(b){e.next=6;break}return e.abrupt("return",j({password:"Mot de passe invalide."}));case 6:j({}),r({email:d,password:b});case 8:case"end":return e.stop()}}),null,null,null,Promise)},loading:t.isLoggingIn,containerStyle:{marginBottom:20,marginTop:8}}),l.a.createElement(ae.b,{title:"Nouveau? Je m'enregistre.",type:"clear",onPress:function(){return o.navigate("SignUp")},containerStyle:{marginBottom:30}}))})),lt=Object(s.b)((function(e){return{auth:e.auth}}),(function(e){return{signUp:function(t){return e(function(e){return{type:"REQUEST_SIGN_UP",route:"/auth/signup",payload:e,method:"POST",successNotification:{message:'Bienvenue ! Rendez-vous \xe0 l\'onglet "Mon profil" pour \xe9diter vos informations.',variant:"success",redirect:"Root"},errorNotification:!0}}(t))}}}))((function(e){var t=e.signUp,n=e.auth,r=Object(c.useState)(""),o=i()(r,2),s=o[0],u=o[1],m=Object(c.useState)(""),d=i()(m,2),g=d[0],f=d[1],E=Object(c.useState)(""),b=i()(E,2),y=b[0],h=b[1],v=Object(c.useState)(""),S=i()(v,2),j=S[0],O=S[1],C=Object(c.useState)(""),T=i()(C,2),R=T[0],x=T[1],w=Object(c.useState)(""),U=i()(w,2),_=U[0],P=U[1],A=Object(c.useState)({}),z=i()(A,2),D=z[0],k=z[1];return l.a.createElement(p.a,{style:{backgroundColor:"white",flex:1,justifyContent:"center",alignItems:"center",paddingHorizontal:12}},l.a.createElement(ae.e,{placeholder:"Pr\xe9nom",value:s,onChangeText:function(e){return u(e)},label:"Pr\xe9nom",errorMessage:D.firstname}),l.a.createElement(ae.e,{placeholder:"Nom",value:g,onChangeText:function(e){return f(e)},label:"Nom",errorMessage:D.lastname}),l.a.createElement(ae.e,{placeholder:"Email",leftIcon:l.a.createElement(ae.d,{name:"email",type:"material-community"}),value:y,onChangeText:function(e){return h(e)},label:"Email",errorMessage:D.email}),l.a.createElement(ae.e,{placeholder:"Mot de passe",leftIcon:l.a.createElement(ae.d,{name:"lock"}),label:"Mot de passe",secureTextEntry:!0,value:j,onChangeText:function(e){return O(e)},errorMessage:D.password}),l.a.createElement(ae.e,{placeholder:"Mot de passe",leftIcon:l.a.createElement(ae.d,{name:R!==j||j.length<8?"close":"check",color:R!==j||j.length<8?"red":"green"}),label:"Confirmation",secureTextEntry:!0,value:R,leftIconContainerStyle:{marginRight:12},containerStyle:{marginBottom:40,marginTop:8},onChangeText:function(e){return x(e)},errorMessage:D.confirmation}),l.a.createElement(ae.e,{placeholder:"Code",leftIcon:l.a.createElement(ae.d,{name:"code-tags",type:"material-community"}),value:_,onChangeText:function(e){return P(e)},label:"Email",errorMessage:D.code}),l.a.createElement(ae.b,{title:"S'inscrire",onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=4;break}return e.abrupt("return",k({firstname:"Pr\xe9nom manquant."}));case 4:if(g){e.next=8;break}return e.abrupt("return",k({lastname:"Nom manquant."}));case 8:if(y){e.next=12;break}return e.abrupt("return",k({mail:"M\xe9l manquant."}));case 12:if(j.length<8!==!0){e.next=16;break}return e.abrupt("return",k({password:"Mot de passe manquant."}));case 16:if(j===R){e.next=18;break}return e.abrupt("return",k({confirmation:"Veuillez retaper la confirmation de votre mot de passe."}));case 18:k({}),t({email:y,password:j,firstname:s,lastname:g,code:_});case 20:case"end":return e.stop()}}),null,null,null,Promise)},loading:n.isSigningUp,containerStyle:{marginBottom:20,marginTop:8}}))})),st=Object(ne.a)(),ut=function(){return l.a.createElement(p.a,{style:{flex:1}},l.a.createElement(st.Navigator,{initialRouteName:"LogIn",headerMode:"screen"},l.a.createElement(st.Screen,{name:"LogIn",component:ct,options:{headerShown:!1}}),l.a.createElement(st.Screen,{name:"SignUp",component:lt,options:{title:"S'inscrire"}})))},mt=n(39);function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var pt=function(e){var t=e.notification,n=e.theme;return l.a.createElement(p.a,{style:{backgroundColor:"white",borderRadius:10,justifyContent:"center",alignItems:"center",paddingHorizontal:12,paddingVertical:8,elevation:8}},l.a.createElement(ae.d,{containerStyle:{marginBottom:8},size:30,name:"success"===t.variant?"check-circle-outline":"warning"===t.variant?"alert-circle-outline":"error"===t.variant?"close-circle-outline":t.icon,color:"success"===t.variant?"green":"warning"===t.variant?"yellow":"error"===t.variant?"red":"error"===t.variant?"blue":n.colors.grey1}),t.message&&l.a.createElement(ie.a,{style:{fontSize:14}},t.message))},gt=function(e){var t=e.form,n=e.dispatchRedirectReset,r=e.theme,a=e.dispatch,o=Object(c.useState)(""),s=i()(o,2),u=s[0],m=s[1];return l.a.createElement(p.a,{style:{backgroundColor:"white",borderRadius:10,justifyContent:"center",alignItems:"center",paddingHorizontal:12,paddingVertical:8,elevation:8}},l.a.createElement(p.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center",alignContent:"center",marginTop:8}},t.message&&l.a.createElement(ie.a,{style:{fontSize:14}},t.message)),l.a.createElement(p.a,{style:{flexDirection:"row",alignItems:"stretch",marginTop:8}},l.a.createElement($e.a,{value:u,multiline:!0,placeholder:"Ecrivez ici.",placeholderTextColor:"grey",onChangeText:function(e){return m(e)},style:{backgroundColor:r.colors.grey5,borderColor:r.colors.grey4,borderWidth:1,borderRadius:5,height:60,paddingHorizontal:4,paddingVertical:4,flex:1},textAlignVertical:"top"}),l.a.createElement(ae.b,{buttonStyle:{height:60,alignItems:"center",justifyContent:"center"},icon:l.a.createElement(ae.d,{name:"send",size:20,color:u?r.colors.primary:r.colors.grey2}),disabled:!u,type:"clear",onPress:function(){a(t.action(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(h()({},t.inputName,u),t.actionParams))),n()}})))},ft=function(e){var t,n=e.menu,r=e.dispatchRedirectReset,a=e.dispatch;return l.a.createElement(p.a,{style:{backgroundColor:"white",borderRadius:10,justifyContent:"center",alignItems:"center",paddingHorizontal:12,paddingVertical:8,elevation:8}},null==(t=n.buttons)?void 0:t.map((function(e,t){return l.a.createElement(ae.b,{title:e.title,key:t,containerStyle:{height:30},onPress:function(){a(e.action.apply(e,b()(e.actionParams))),r()}})})))},Et=function(){var e=Object(s.e)((function(e){return e.overlay})),t=Object(c.useContext)(ae.f).theme,n=Object(s.d)();if(!1===e.show)return null;var r=function(){n({type:"RESET_OVERLAY"}),"array"===typeof e.callbacks&&e.callbacks.forEach((function(e){n(e())})),e.redirect&&fe(e.redirect,{})};return e.timeout&&setTimeout((function(){r()}),e.timeout),l.a.createElement(p.a,{style:{position:"absolute",height:mt.a.get("window").height,width:mt.a.get("window").width,backgroundColor:t.colors.grey6,alignContent:"center",justifyContent:"center",alignItems:"stretch"}},l.a.createElement(_e.f,{containerStyle:{flex:1,minHeight:12},style:{flex:1,minHeight:12},onPress:function(){e.notification?r():n({type:"RESET_OVERLAY"})}}),l.a.createElement(p.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"}},l.a.createElement(_e.f,{containerStyle:{flex:1,minWidth:12},style:{flex:1,minWidth:12},onPress:function(){e.notification?r():n({type:"RESET_OVERLAY"})}}),e.notification&&l.a.createElement(pt,{notification:e.notification,dispatchRedirectReset:r,theme:t}),e.form&&l.a.createElement(gt,{form:e.form,dispatchRedirectReset:r,dispatch:n,theme:t}),e.menu&&l.a.createElement(ft,{menu:e.menu,dispatchRedirectReset:r,dispatch:n}),l.a.createElement(_e.f,{containerStyle:{flex:1,minWidth:12},style:{flex:1,minWidth:12},onPress:function(){e.notification?r():n({type:"RESET_OVERLAY"})}})),l.a.createElement(_e.f,{containerStyle:{flex:1,minHeight:12},style:{flex:1,minHeight:12},onPress:function(){e.notification?r():n({type:"RESET_OVERLAY"})}}))},bt=n(419),yt=n(423),ht=Object(te.a)(),vt=Object(re.a)(),St=Object(ne.a)(),jt=function(){return l.a.createElement(ht.Navigator,{initialRouteName:"People",screenOptions:function(e){var t=e.route;return{tabBarIcon:function(e){e.focused;var n,r=e.color,a=e.size;switch(t.name){case"Home":n="home";break;case"Jobs":n="briefcase";break;case"People":n="account-group";break;case"Messages":n="forum"}return l.a.createElement(ae.d,{name:n,size:a,color:r})}}},tabBarOptions:{activeTintColor:Ue.colors.primary,inactiveTintColor:"gray"}},l.a.createElement(ht.Screen,{name:"People",component:Ze,options:{title:"Annuaire"}}),l.a.createElement(ht.Screen,{name:"Jobs",component:Ne,options:{title:"Emplois"}}),l.a.createElement(ht.Screen,{name:"Messages",component:ot,options:{title:"Messages"}}))},Ot=function(){var e=Object(s.d)();return l.a.useEffect((function(){e({type:"REQUEST_JOBS",route:"jobs",method:"GET"}),e({type:"REQUEST_MY_JOBS",route:"jobs/me",method:"GET"}),e({type:"REQUEST_USERS",method:"GET",route:"users"}),e({type:"REQUEST_CONVERSATIONS",method:"GET",route:"conversations"})}),[]),l.a.createElement(vt.Navigator,{initialRouteName:"Main",headerMode:"screen"},l.a.createElement(vt.Screen,{name:"Main",component:jt,options:{title:"Accueil"}}),l.a.createElement(vt.Screen,{name:"Profile",component:Je,options:{title:"Mon profil"}}),l.a.createElement(vt.Screen,{name:"MyJobs",component:Re,options:{title:"Mes offres d'emplois"}}))},Ct=function(e){var t=l.a.useState(!1),n=i()(t,2),r=n[0],o=n[1],c=l.a.useState(),u=i()(c,2),m=u[0],d=u[1],g=(l.a.useRef(),function(e){return Object(bt.a)(e,{prefixes:[yt.a.makeUrl("/")],config:{Auth:{path:"auth",screens:{LogIn:"login",SignUp:"signup"}}}})}(ge).getInitialState),f=Object(s.d)(),E=Object(s.e)((function(e){return e.auth.token}),s.c);return l.a.useEffect((function(){a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return null!==E&&f({type:"REQUEST_VERIFY_TOKEN",route:"auth/token/verify",method:"GET",errorNotification:!0}),e.prev=1,oe.a.preventAutoHide(),e.t0=d,e.next=6,a.a.awrap(g());case 6:e.t1=e.sent,(0,e.t0)(e.t1),e.next=13;break;case 10:e.prev=10,e.t2=e.catch(1),console.warn(e.t2);case 13:return e.prev=13,o(!0),oe.a.hide(),e.finish(13);case 17:case"end":return e.stop()}}),null,null,[[1,10,13,17]],Promise)}),[]),r||e.skipLoadingScreen?l.a.createElement(p.a,{style:{maxWidth:500,flex:1}},l.a.createElement(ee.a,{ref:ge,initialState:m},l.a.createElement(St.Navigator,{headerMode:"none"},E&&l.a.createElement(St.Screen,{name:"Root",component:Ot}),!E&&l.a.createElement(St.Screen,{name:"Auth",component:ut})),l.a.createElement(Et,null))):null};t.a=function(){return l.a.useEffect((function(){return pe.current=!0,function(){return pe.current=!1}}),[]),l.a.createElement(s.a,{store:X},l.a.createElement($.a,{loading:null,persistor:Z},l.a.createElement(ae.g,{theme:Ue},l.a.createElement(u.a,{style:{flex:1,flexDirection:"row",justifyContent:"center"}},"ios"===m.a.OS&&l.a.createElement(d.a,{barStyle:"default"}),l.a.createElement(Ct,null)))))}},494:function(e,t,n){n(495),e.exports=n(496)},495:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},537:function(e,t){},57:function(e){e.exports=JSON.parse('{"colors":{"primary":"rgba(51,122,183,1)","primaryLight":"rgba(120,160,200,1)","secondary":"#2c2346","grey0":"rgba(66, 66, 66, 1)","grey1":"rgba(100, 100, 100, 1)","grey2":"rgba(133, 133, 133, 1)","grey3":"rgba(166, 166, 166, 1)","grey4":"rgba(200, 200, 200, 1)","grey5":"rgba(245, 245, 245, 1)","grey6":"rgba(100, 100, 100, 0.4)","greyOutline":"grey1","error":"rgba(207, 42, 42, 1)","success":"rgba(52, 186, 69, 1)","divider":"rgba(133, 133, 133, 1)"},"Button":{"containerStyle":{"marginBottom":8}},"Avatar":{"rounded":true},"Icon":{"type":"material-community"},"Input":{"containerStyle":{"marginBottom":12,"maxWidth":500},"leftIconContainerStyle":{"marginRight":12}},"ButtonGroup":{"containerStyle":{"marginBottom":16,"height":40}},"Overlay":{"overlayStyle":{"marginHorizontal":12,"paddingHorizontal":20,"borderRadius":12,"paddingVertical":16}}}')},676:function(e,t,n){var r={"./af":282,"./af.js":282,"./ar":283,"./ar-dz":284,"./ar-dz.js":284,"./ar-kw":285,"./ar-kw.js":285,"./ar-ly":286,"./ar-ly.js":286,"./ar-ma":287,"./ar-ma.js":287,"./ar-sa":288,"./ar-sa.js":288,"./ar-tn":289,"./ar-tn.js":289,"./ar.js":283,"./az":290,"./az.js":290,"./be":291,"./be.js":291,"./bg":292,"./bg.js":292,"./bm":293,"./bm.js":293,"./bn":294,"./bn.js":294,"./bo":295,"./bo.js":295,"./br":296,"./br.js":296,"./bs":297,"./bs.js":297,"./ca":298,"./ca.js":298,"./cs":299,"./cs.js":299,"./cv":300,"./cv.js":300,"./cy":301,"./cy.js":301,"./da":302,"./da.js":302,"./de":303,"./de-at":304,"./de-at.js":304,"./de-ch":305,"./de-ch.js":305,"./de.js":303,"./dv":306,"./dv.js":306,"./el":307,"./el.js":307,"./en-SG":308,"./en-SG.js":308,"./en-au":309,"./en-au.js":309,"./en-ca":310,"./en-ca.js":310,"./en-gb":311,"./en-gb.js":311,"./en-ie":312,"./en-ie.js":312,"./en-il":313,"./en-il.js":313,"./en-nz":314,"./en-nz.js":314,"./eo":315,"./eo.js":315,"./es":316,"./es-do":317,"./es-do.js":317,"./es-us":318,"./es-us.js":318,"./es.js":316,"./et":319,"./et.js":319,"./eu":320,"./eu.js":320,"./fa":321,"./fa.js":321,"./fi":322,"./fi.js":322,"./fo":323,"./fo.js":323,"./fr":117,"./fr-ca":324,"./fr-ca.js":324,"./fr-ch":325,"./fr-ch.js":325,"./fr.js":117,"./fy":326,"./fy.js":326,"./ga":327,"./ga.js":327,"./gd":328,"./gd.js":328,"./gl":329,"./gl.js":329,"./gom-latn":330,"./gom-latn.js":330,"./gu":331,"./gu.js":331,"./he":332,"./he.js":332,"./hi":333,"./hi.js":333,"./hr":334,"./hr.js":334,"./hu":335,"./hu.js":335,"./hy-am":336,"./hy-am.js":336,"./id":337,"./id.js":337,"./is":338,"./is.js":338,"./it":339,"./it-ch":340,"./it-ch.js":340,"./it.js":339,"./ja":341,"./ja.js":341,"./jv":342,"./jv.js":342,"./ka":343,"./ka.js":343,"./kk":344,"./kk.js":344,"./km":345,"./km.js":345,"./kn":346,"./kn.js":346,"./ko":347,"./ko.js":347,"./ku":348,"./ku.js":348,"./ky":349,"./ky.js":349,"./lb":350,"./lb.js":350,"./lo":351,"./lo.js":351,"./lt":352,"./lt.js":352,"./lv":353,"./lv.js":353,"./me":354,"./me.js":354,"./mi":355,"./mi.js":355,"./mk":356,"./mk.js":356,"./ml":357,"./ml.js":357,"./mn":358,"./mn.js":358,"./mr":359,"./mr.js":359,"./ms":360,"./ms-my":361,"./ms-my.js":361,"./ms.js":360,"./mt":362,"./mt.js":362,"./my":363,"./my.js":363,"./nb":364,"./nb.js":364,"./ne":365,"./ne.js":365,"./nl":366,"./nl-be":367,"./nl-be.js":367,"./nl.js":366,"./nn":368,"./nn.js":368,"./pa-in":369,"./pa-in.js":369,"./pl":370,"./pl.js":370,"./pt":371,"./pt-br":372,"./pt-br.js":372,"./pt.js":371,"./ro":373,"./ro.js":373,"./ru":374,"./ru.js":374,"./sd":375,"./sd.js":375,"./se":376,"./se.js":376,"./si":377,"./si.js":377,"./sk":378,"./sk.js":378,"./sl":379,"./sl.js":379,"./sq":380,"./sq.js":380,"./sr":381,"./sr-cyrl":382,"./sr-cyrl.js":382,"./sr.js":381,"./ss":383,"./ss.js":383,"./sv":384,"./sv.js":384,"./sw":385,"./sw.js":385,"./ta":386,"./ta.js":386,"./te":387,"./te.js":387,"./tet":388,"./tet.js":388,"./tg":389,"./tg.js":389,"./th":390,"./th.js":390,"./tl-ph":391,"./tl-ph.js":391,"./tlh":392,"./tlh.js":392,"./tr":393,"./tr.js":393,"./tzl":394,"./tzl.js":394,"./tzm":395,"./tzm-latn":396,"./tzm-latn.js":396,"./tzm.js":395,"./ug-cn":397,"./ug-cn.js":397,"./uk":398,"./uk.js":398,"./ur":399,"./ur.js":399,"./uz":400,"./uz-latn":401,"./uz-latn.js":401,"./uz.js":400,"./vi":402,"./vi.js":402,"./x-pseudo":403,"./x-pseudo.js":403,"./yo":404,"./yo.js":404,"./zh-cn":405,"./zh-cn.js":405,"./zh-hk":406,"./zh-hk.js":406,"./zh-tw":407,"./zh-tw.js":407};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=676},686:function(e,t,n){e.exports=n.p+"static/media/logo.0120364d.png"}},[[494,1,2]]]);
//# sourceMappingURL=app.41971b40.chunk.js.map